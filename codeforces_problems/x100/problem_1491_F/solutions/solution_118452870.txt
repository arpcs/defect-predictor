{
    "id": 118452870,
    "contestId": 1491,
    "creationTimeSeconds": 1622833374,
    "relativeTimeSeconds": 2147483647,
    "problem": {
        "contestId": 1491,
        "index": "F",
        "name": "Magnets",
        "type": "PROGRAMMING",
        "points": 2000.0,
        "rating": 2700,
        "tags": [
            "binary search",
            "constructive algorithms",
            "interactive"
        ]
    },
    "author": {
        "contestId": 1491,
        "members": [
            {
                "handle": "T1duS"
            }
        ],
        "participantType": "PRACTICE",
        "ghost": false,
        "startTimeSeconds": 1614519300
    },
    "programmingLanguage": "GNU C++17",
    "verdict": "OK",
    "testset": "TESTS",
    "passedTestCount": 79,
    "timeConsumedMillis": 265,
    "memoryConsumedBytes": 204800,
    "source": "// --------------------------------------------------<TEMPLATE>--------------------------------------------------\r\n// --------------------<optimizations>--------------------\r\n/*\r\n#pragma GCC optimize(\"Ofast,unroll-loops\")\r\n#pragma GCC target(\"avx,avx2,fma\")\r\n*/ \r\n// -------------------</optimizations>--------------------\r\n \r\n// ---------------<Headers and namespaces>----------------\r\n#include <bits/stdc++.h>\r\nusing namespace std;\r\n \r\n/*\r\n#include <ext/pb_ds/assoc_container.hpp>\r\n#include <ext/pb_ds/tree_policy.hpp>\r\nusing namespace __gnu_pbds;\r\n*/\r\n \r\n// ---------------</Headers and namespaces>---------------\r\n \r\n// -----------------<Defines and typedefs>----------------\r\n// typedef tree<int,null_type,less<int>,rb_tree_tag, \r\n// tree_order_statistics_node_update> indexed_set; // use less_equal for multiset\r\n// order_of_key (val): returns the no. of values less than val\r\n// find_by_order (k): returns the iterator to kth largest element.(0-based)\r\n \r\ntypedef long double LD;\r\ntypedef long long ll;\r\n#define int ll\r\n#define pb push_back\r\n#define mp make_pair\r\n#define REP(i,n) for (int i = 0; i < n; i++)\r\n#define FOR(i,a,b) for (int i = a; i < b; i++)\r\n#define REPD(i,n) for (int i = n-1; i >= 0; i--)\r\n#define FORD(i,a,b) for (int i = a; i >= b; i--)\r\n#define remax(a,b) a = max(a,b)\r\n#define remin(a,b) a = min(a,b)\r\n#define all(v) v.begin(),v.end()\r\ntypedef map<int,int> mii;\r\ntypedef vector<int> vi;\r\ntypedef vector<vi> vvi;\r\ntypedef pair<int,int> pii;\r\ntypedef vector<pii> vpii;\r\n#define F first\r\n#define S second\r\n#define PQ(type) priority_queue<type>\r\n#define PQD(type) priority_queue<type,vector<type>,greater<type> >\r\n#define WL(t) while(t --)\r\n#define SZ(x) ((int)(x).size())\r\n#define runtime() ((double)clock() / CLOCKS_PER_SEC)\r\n#define inrange(i,a,b) ((i>=min(a,b)) && (i<=max(a,b)))\r\n \r\n/*\r\n// -----<SCANF>-----\r\n#define sfi(x) scanf(\"%d\",&x);\r\n#define sfi2(x,y) scanf(\"%d%d\",&x,&y);\r\n#define sfi3(x,y,z) scanf(\"%d%d%d\",&x,&y,&z);\r\n \r\n#define sfl(x) scanf(\"%lld\",&x);\r\n#define sfl2(x,y) scanf(\"%lld%lld\",&x,&y);\r\n#define sfl3(x,y,z) scanf(\"%lld%lld%lld\",&x,&y,&z);\r\n#define sfl4(x,y,z,x1) scanf(\"%lld%lld%lld%lld\",&x,&y,&z,&x1);\r\n#define sfl5(x,y,z,x1,y1) scanf(\"%lld%lld%lld%lld%lld\",&x,&y,&z,&x1,&y1);\r\n#define sfl6(x,y,z,x1,y1,z1) scanf(\"%lld%lld%lld%lld%lld%lld\",&x,&y,&z,&x1,&y1,&z1);\r\n \r\n#define sfs(x) scanf(\"%s\",x);\r\n#define sfs2(x,y) scanf(\"%s%s\",x,y);\r\n#define sfs3(x,y,z) scanf(\"%s%s%s\",x,y,z);\r\n// ----</SCANF>-----\r\n \r\n// ----<PRINTF>-----\r\n#define pfi(x) printf(\"%d\\n\",x);\r\n#define pfi2(x,y) printf(\"%d %d\\n\",x,y);\r\n#define pfi3(x,y,z) printf(\"%d %d %d\\n\",x,y,z);\r\n \r\n#define pfl(x) printf(\"%lld\\n\",x);\r\n#define pfl2(x,y) printf(\"%lld %lld\\n\",x,y);\r\n#define pfl3(x,y,z) printf(\"%lld %lld %lld\\n\",x,y,z);\r\n \r\n#define pfs(x) printf(\"%s\\n\",x);\r\n#define pfs2(x,y) printf(\"%s %s\\n\",x,y);\r\n#define pfs3(x,y,z) printf(\"%s %s %s\\n\",x,y,z);\r\n \r\n#define pwe(x) printf(\"%lld \",x); // print without end\r\n// ----</PRINTF>----\r\n*/\r\n#define FLSH fflush(stdout)\r\n#define fileIO(name) \\\r\n    freopen(name\".in\", \"r\", stdin); \\\r\n    freopen(name\".out\", \"w\", stdout);\r\n#define PRECISION(x) cout << fixed << setprecision(x); \r\n#define FAST_IO ios::sync_with_stdio(0); cin.tie(0); cout.tie(0);\r\n \r\n// ----------------</Defines and typedefs>----------------\r\n \r\n// -------------------<Debugging stuff>-------------------\r\n#ifdef TRACE\r\n#define trace(...) __f(#__VA_ARGS__, __VA_ARGS__)\r\ntemplate <typename Arg1>\r\nvoid __f(const char* name, Arg1&& arg1){\r\n    cout << name << \" : \" << arg1 << std::endl;\r\n}\r\ntemplate <typename Arg1, typename... Args>\r\nvoid __f(const char* names, Arg1&& arg1, Args&&... args){\r\n    const char* comma = strchr(names + 1, ',');cout.write(names, comma - names) << \" : \" << arg1<<\" | \";__f(comma+1, args...);\r\n}\r\n#else\r\n#define trace(...)\r\n#endif\r\n \r\n// ------------------</Debugging stuff>-------------------\r\n \r\n// ------------------------<Consts>-----------------------\r\nconst int MAXN = 1000005;\r\nconst int SQRTN = 1003;\r\nconst int LOGN = 22;\r\nconst double PI=acos(-1);\r\n \r\n#ifdef int\r\nconst int INF=1e16;\r\n#else\r\nconst int INF=1e9;\r\n#endif\r\n \r\nconst int MOD = 1000000007;\r\nconst int FMOD = 998244353;\r\nconst double eps = 1e-9;\r\n// -----------------------</Consts>-----------------------\r\n/*\r\n// -------------------------<RNG>-------------------------\r\nmt19937 RNG(chrono::steady_clock::now().time_since_epoch().count()); \r\n#define SHUF(v) shuffle(all(v), RNG);\r\n// Use mt19937_64 for 64 bit random numbers.\r\n \r\n// ------------------------</RNG>-------------------------\r\n \r\n// ----------------------<MATH>---------------------------\r\ntemplate<typename T> T gcd(T a, T b){return(b?__gcd(a,b):a);}\r\ntemplate<typename T> T lcm(T a, T b){return(a*(b/gcd(a,b)));}\r\nint add(int a, int b, int c = MOD){int res=a+b;return(res>=c?res-c:res);}\r\nint mod_neg(int a, int b, int c = MOD){int res;if(abs(a-b)<c)res=a-b;else res=(a-b)%c;return(res<0?res+c:res);}\r\nint mul(int a, int b, int c = MOD){ll res=(ll)a*b;return(res>=c?res%c:res);}\r\nint muln(int a, int b, int c = MOD){ll res=(ll)a*b;return ((res%c)+c)%c;}\r\nll mulmod(ll a,ll b, ll m = MOD){ll q = (ll)(((LD)a*(LD)b)/(LD)m);ll r=a*b-q*m;if(r>m)r%=m;if(r<0)r+=m;return r;}\r\ntemplate<typename T>T expo(T e, T n){T x=1,p=e;while(n){if(n&1)x=x*p;p=p*p;n>>=1;}return x;}\r\ntemplate<typename T>T power(T e, T n, T m = MOD){T x=1,p=e;while(n){if(n&1)x=mul(x,p,m);p=mul(p,p,m);n>>=1;}return x;}\r\ntemplate<typename T>T extended_euclid(T a, T b, T &x, T &y){T xx=0,yy=1;y=0;x=1;while(b){T q=a/b,t=b;b=a%b;a=t;\\\r\nt=xx;xx=x-q*xx;x=t;t=yy;yy=y-q*yy;y=t;}return a;}\r\ntemplate<typename T>T mod_inverse(T a, T n = MOD){T x,y,z=0;T d=extended_euclid(a,n,x,y);return(d>1?-1:mod_neg(x,z,n));}\r\n \r\nconst int FACSZ = 1; // Make sure to change this\r\n \r\nint fact[FACSZ],ifact[FACSZ];\r\n \r\nvoid precom(int c = MOD){\r\n    fact[0] = 1;\r\n    FOR(i,1,FACSZ) fact[i] = mul(fact[i-1],i,c);\r\n    ifact[FACSZ-1] = mod_inverse(fact[FACSZ-1],c);\r\n    REPD(i,FACSZ-1){\r\n        ifact[i] = mul(i+1,ifact[i+1],c);\r\n    }\r\n}\r\n \r\nint ncr(int n,int r,int c = MOD){\r\n    return mul(mul(ifact[r],ifact[n-r],c),fact[n],c);\r\n} \r\n*/\r\n// ----------------------</MATH>--------------------------\r\n// --------------------------------------------------</TEMPLATE>--------------------------------------------------\r\n \r\nvoid solvethetestcase();\r\n \r\nsigned main(){\r\n    // comment when using scanf,printf\r\n    FAST_IO\r\n    int t = 1;\r\n    // (UNCOMMENT FOR MULTIPLE TEST CASES)\r\n    cin >> t;\r\n    FOR(testcase,1,t+1){\r\n        // (UNCOMMENT FOR CODEJAM)\r\n        // printf(\"Case #%lld: \",testcase); \r\n        solvethetestcase();\r\n    }\r\n}   \r\n \r\nint n;\r\n \r\nvoid solvethetestcase(){\r\n    cin >> n;\r\n    int ind = -1;\r\n    FOR(i,2,n+1){\r\n        cout << \"? \" << i-1 << \" \" << 1 << endl;\r\n        FOR(j,1,i) cout << j << \" \";\r\n        cout << endl;\r\n        cout << i << endl;\r\n        int q; cin >> q;\r\n        if(q){\r\n            ind = i;\r\n            break;\r\n        }\r\n    }\r\n    int low = 1,high = ind-1,mid;\r\n    while(low < high){\r\n        mid = (low+high)/2;\r\n        cout << \"? \" <<  mid << \" \" << 1 << endl;\r\n        FOR(j,1,mid+1) cout << j << \" \";\r\n        cout << endl;\r\n        cout << ind << endl;\r\n        int q; cin >> q;\r\n        if(q) high = mid;\r\n        else low = mid+1;\r\n    }\r\n    vi ans;\r\n    FOR(i,1,ind){\r\n        if(i != high) ans.pb(i);\r\n    }\r\n    FOR(i,ind+1,n+1){\r\n        cout << \"? 1 1\" << endl;\r\n        cout << ind << endl;\r\n        cout << i << endl;\r\n        int q; cin >> q;\r\n        if(!q) ans.pb(i);\r\n    }\r\n    cout << \"! \" << SZ(ans) << \" \";\r\n    for(auto x:ans) cout << x << \" \";\r\n    cout << endl;\r\n}"
}