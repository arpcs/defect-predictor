{
    "id": 207121643,
    "contestId": 893,
    "creationTimeSeconds": 1685004622,
    "relativeTimeSeconds": 2147483647,
    "problem": {
        "contestId": 893,
        "index": "D",
        "name": "Credit Card",
        "type": "PROGRAMMING",
        "rating": 1900,
        "tags": [
            "data structures",
            "dp",
            "greedy",
            "implementation"
        ]
    },
    "author": {
        "contestId": 893,
        "members": [
            {
                "handle": "qhyer"
            }
        ],
        "participantType": "PRACTICE",
        "ghost": false,
        "startTimeSeconds": 1511449500
    },
    "programmingLanguage": "GNU C++20 (64)",
    "verdict": "OK",
    "testset": "TESTS",
    "passedTestCount": 79,
    "timeConsumedMillis": 31,
    "memoryConsumedBytes": 72396800,
    "source": "#include \"bits/stdc++.h\"\r\n\r\nusing namespace std;\r\n#define ll long long\r\n#define int long long\r\n#define ULL unsigned long long\r\n#define mem(f, x) memset(f, x, sizeof(f))\r\n#define rep(i, a, b) for(int i = a; i <= (int) b; ++i)\r\n#define per(i, a, b) for(int i = a; i >= (int) b; --i)\r\n#define all(x) (x).begin(),(x).end()\r\n#define warr(arr, len) rep(i, 1, len) printf(\"%lld%c\", arr[i], \" \\n\"[i == len])\r\n#define inf 0x3f3f3f3f\r\n#define infll 0x3f3f3f3f3f3f3f3f\r\n#define endl '\\n'\r\n#define pii pair<int, int>\r\n#define yes printf(\"Yes\\n\")\r\n#define no printf(\"No\\n\")\r\n#define lowbit(x) ((-(x))&(x))\r\n#define uniquev(v)  v.resize(unique(v.begin(), v.end()) - v.begin())\r\n#define w(x) cout << x << endl\r\n#ifdef qhyer\r\n#define debug(...) __f(#__VA_ARGS__, __VA_ARGS__)\r\n#else\r\n#define debug(...) 42\r\n#endif\r\nclock_t startTime;\r\n\r\ntemplate<typename A, typename B>\r\nostream &operator<<(ostream &out, const pair<A, B> &a) {\r\n    out << \"(\" << a.first << \",\" << a.second << \")\";\r\n    return out;\r\n}\r\n\r\ntemplate<typename T, size_t N>\r\nostream &operator<<(ostream &out, const array<T, N> &a) {\r\n    out << \"[\";\r\n    bool first = true;\r\n    for (auto &v: a) {\r\n        out << (first ? \"\" : \", \");\r\n        out << v;\r\n        first = 0;\r\n    }\r\n    out << \"]\";\r\n    return out;\r\n}\r\n\r\ntemplate<typename T>\r\nostream &operator<<(ostream &out, const vector<T> &a) {\r\n    out << \"[\";\r\n    bool first = true;\r\n    for (auto v: a) {\r\n        out << (first ? \"\" : \", \");\r\n        out << v;\r\n        first = 0;\r\n    }\r\n    out << \"]\";\r\n    return out;\r\n}\r\n\r\ntemplate<typename T, class Cmp>\r\nostream &operator<<(ostream &out, const set<T, Cmp> &a) {\r\n    out << \"{\";\r\n    bool first = true;\r\n    for (auto &v: a) {\r\n        out << (first ? \"\" : \", \");\r\n        out << v;\r\n        first = 0;\r\n    }\r\n    out << \"}\";\r\n    return out;\r\n}\r\n\r\ntemplate<typename T, class Cmp>\r\nostream &operator<<(ostream &out, const multiset<T, Cmp> &a) {\r\n    out << \"{\";\r\n    bool first = true;\r\n    for (auto &v: a) {\r\n        out << (first ? \"\" : \", \");\r\n        out << v;\r\n        first = 0;\r\n    }\r\n    out << \"}\";\r\n    return out;\r\n}\r\n\r\ntemplate<typename U, typename T, class Cmp>\r\nostream &operator<<(ostream &out, const map<U, T, Cmp> &a) {\r\n    out << \"{\";\r\n    bool first = true;\r\n    for (auto &p: a) {\r\n        out << (first ? \"\" : \", \");\r\n        out << p.first << \":\" << p.second;\r\n        first = 0;\r\n    }\r\n    out << \"}\";\r\n    return out;\r\n}\r\n\r\ntemplate<typename Arg1>\r\nvoid __f(const char *name, Arg1 &&arg1) {\r\n    cerr << name << \": \" << arg1 << endl;\r\n}\r\n\r\ntemplate<typename Arg1, typename... Args>\r\nvoid __f(const char *names, Arg1 &&arg1, Args &&... args) {\r\n    const char *comma = strchr(names + 1, ',');\r\n    cerr.write(names, comma - names) << \": \" << arg1 << \" |\";\r\n    __f(comma + 1, args...);\r\n}\r\n\r\ntemplate<class T>\r\nauto vect(const T &v, int n) { return vector<T>(n, v); }\r\n\r\ntemplate<class T, class... D>\r\nauto vect(const T &v, int n, D... m) {\r\n    return vector<decltype(vect(v, m...))>(n, vect(v, m...));\r\n}\r\n\r\ndouble getCurrentTime() {\r\n    return (double) (clock() - startTime) / CLOCKS_PER_SEC;\r\n}\r\n\r\nconst double eps = 1e-7;\r\nconst int mod = 1e9 + 7;\r\nconst int N = 3e6 + 10, M = 1e3 + 10;\r\n\r\ninline ll gcd(ll a, ll b) {\r\n    if (!a)\r\n        return b;\r\n    if (!b)\r\n        return a;\r\n    ll x = __builtin_ctzll(a | b);\r\n    a >>= __builtin_ctzll(a);\r\n    do {\r\n        b >>= __builtin_ctzll(b);\r\n        if (a > b) {\r\n            ll t = b;\r\n            b = a, a = t;\r\n        }\r\n        b -= a;\r\n    } while (b);\r\n    return a << x;\r\n}\r\n\r\ninline int lcm(int a, int b) {\r\n    return a * b / gcd(a, b);\r\n}\r\n\r\ninline int qpow(int x, ll y, int m = mod) {\r\n    int r = 1;\r\n    for (; y; y >>= 1, x = (ll) x * x % m) {\r\n        if (y & 1) {\r\n            r = (ll) r * x % m;\r\n        }\r\n    }\r\n    return r;\r\n}\r\n\r\nmt19937_64 mrand(random_device{}());\r\n\r\nint64_t rnd(int64_t x) { return mrand() % x; }\r\n\r\ninline int read() {\r\n    int x = 0, f = 1;\r\n    char ch = getchar();\r\n    while (ch < '0' || ch > '9') {\r\n        if (ch == '-') f = -1;\r\n        ch = getchar();\r\n    }\r\n    while (ch >= '0' && ch <= '9') {\r\n        x = (x << 3) + (x << 1) + ch - '0';\r\n        ch = getchar();\r\n    }\r\n    return x * f;\r\n}\r\n\r\ntemplate<const int T>\r\nstruct ModInt {\r\n    const static int mod = T;\r\n    int x;\r\n\r\n    ModInt(int x = 0) : x(x % mod) {}\r\n\r\n    int val() { return x; }\r\n\r\n    ModInt operator+(const ModInt &a) const {\r\n        int x0 = x + a.x;\r\n        return ModInt(x0 < mod ? x0 : x0 - mod);\r\n    }\r\n\r\n    ModInt operator-(const ModInt &a) const {\r\n        int x0 = x - a.x;\r\n        return ModInt(x0 < mod ? x0 + mod : x0);\r\n    }\r\n\r\n    ModInt operator*(const ModInt &a) const { return ModInt(1LL * x * a.x % mod); }\r\n\r\n    ModInt operator/(const ModInt &a) const { return *this * a.inv(); }\r\n\r\n    void operator+=(const ModInt &a) {\r\n        x += a.x;\r\n        if (x >= mod) x -= mod;\r\n    }\r\n\r\n    void operator-=(const ModInt &a) {\r\n        x -= a.x;\r\n        if (x < 0) x += mod;\r\n    }\r\n\r\n    void operator*=(const ModInt &a) { x = 1LL * x * a.x % mod; }\r\n\r\n    void operator/=(const ModInt &a) { *this = *this / a; }\r\n\r\n    friend ostream &operator<<(ostream &os, const ModInt &a) { return os << a.x; }\r\n\r\n    ModInt pow(int64_t n) const {\r\n        ModInt res(1), mul(x);\r\n        while (n) {\r\n            if (n & 1) res *= mul;\r\n            mul *= mul;\r\n            n >>= 1;\r\n        }\r\n        return res;\r\n    }\r\n\r\n    ModInt inv() const {\r\n        int a = x, b = mod, u = 1, v = 0;\r\n        while (b) {\r\n            int t = a / b;\r\n            a -= t * b;\r\n            swap(a, b);\r\n            u -= t * v;\r\n            swap(u, v);\r\n        }\r\n        if (u < 0) u += mod;\r\n        return u;\r\n    }\r\n\r\n};\r\n\r\ntypedef ModInt<mod> mint;\r\n\r\nint dx[] = {1, -1, 0, 0, -1, 1, 1, -1};\r\nint dy[] = {0, 0, -1, 1, -1, 1, -1, 1};\r\nint dir[] = {1, 0, -1, 0, 1};\r\nll n, m, k, q, ans;\r\nbool flag;\r\nll a[N], s[N], s1[N];\r\n\r\nvoid solve(int CaseNum) {\r\n    n = read(), m = read();\r\n    rep(i, 1, n) {\r\n        a[i] = read();\r\n    }\r\n    int sum = 0;\r\n    rep(i, 1, n) {\r\n        s[i] = s[i - 1] + a[i];\r\n    }\r\n    s1[n] = s[n];\r\n    per(i, n - 1, 1) {\r\n        if (s[i] > s1[i + 1]) {\r\n            s1[i] = s[i];\r\n        } else {\r\n            s1[i] = s1[i + 1];\r\n        }\r\n    }\r\n    rep(i, 1, n) {\r\n        if (s[i] + sum > m) {\r\n            w(-1);\r\n            return;\r\n        } else if (a[i] == 0 && s[i] + sum < 0) {\r\n            if (s1[i] - s[i] > m) {\r\n                w(-1);\r\n                return;\r\n            } else {\r\n                debug(i);\r\n                sum += m - (s1[i] - s[i]) - (sum + s[i]);\r\n                ans++;\r\n            }\r\n        }\r\n    }\r\n    w(ans);\r\n}\r\n\r\nvoid init() {\r\n#ifdef qhyer\r\n\r\n#endif\r\n}\r\n\r\nsigned main() {\r\n#ifdef qhyer\r\n    freopen(\"input.txt\", \"r\", stdin);\r\n    freopen(\"output.txt\", \"w\", stdout);\r\n    startTime = clock();\r\n#endif\r\n    ll _tc = 1;\r\n//    scanf(\"%lld\", &_tc);\r\n    init();\r\n    rep(_i, 1, _tc) {\r\n        ans = 0;\r\n        flag = false;\r\n        solve(_i);\r\n#ifdef qhyer\r\n        puts(\"\\n=====================\\n\");\r\n#endif\r\n    }\r\n#ifdef qhyer\r\n    cout << endl << \"totalTs: \" << getCurrentTime() << endl;\r\n#endif\r\n    return 0;\r\n}"
}