{
    "id": 100481089,
    "contestId": 1178,
    "creationTimeSeconds": 1607205283,
    "relativeTimeSeconds": 8143,
    "problem": {
        "contestId": 1178,
        "index": "D",
        "name": "Prime Graph",
        "type": "PROGRAMMING",
        "points": 1750.0,
        "rating": 1500,
        "tags": [
            "constructive algorithms",
            "greedy",
            "math",
            "number theory"
        ]
    },
    "author": {
        "contestId": 1178,
        "members": [
            {
                "handle": "Makise_Kurisu"
            }
        ],
        "participantType": "VIRTUAL",
        "ghost": false,
        "startTimeSeconds": 1607197140
    },
    "programmingLanguage": "GNU C++14",
    "verdict": "OK",
    "testset": "TESTS",
    "passedTestCount": 37,
    "timeConsumedMillis": 31,
    "memoryConsumedBytes": 0,
    "source": "#include<bits/stdc++.h>\r\n#include <ext/pb_ds/assoc_container.hpp>\r\n#include <ext/pb_ds/tree_policy.hpp>\r\nusing namespace __gnu_pbds;\r\nusing namespace std;\r\n// #pragma GCC optimize(\"Ofast\")\r\n// #pragma GCC target(\"avx,avx2,fma\")\r\n// #pragma GCC optimization (\"unroll-loops\")\r\ntypedef long long ll ;\r\ntypedef pair<int,int> pii;\r\ntypedef pair<ll,ll> pll;\r\n#define CS custom_hash\r\n#define vi vector \r\n#define loop(i,a,b) for(ll i=a ;i<b;i++)\r\n#define For(i,n) for(int i=0;i<(ll)n;i++)\r\n#define Rev(i,n) for(int i=n-1;i>=0;i--)\r\n#define Rep(i,n) for(int i=1;i<=n;++i)\r\n#define F first\r\n#define S second\r\n#define pb push_back\r\n#define em emplace_back\r\n#define all(v) (v).begin(),(v).end()                                            \r\n#define mems(x, y) memset(x, y, sizeof(x))\r\n#define sz(x) (int)(x).size()\r\n#define mp(a,b) make_pair(a,b)\r\n#define po(n) cout << n <<\"\\n \" \r\n#define ar array\r\n#define endl \"\\n\" \r\n#define PI acos(-1) \r\n#define umap unordered_map\r\n#define gmap gp_hash_table\r\n#define ld long double \r\nvoid __print(int x) {cerr << x;}\r\nvoid __print(long x) {cerr << x;}\r\nvoid __print(long long x) {cerr << x;}\r\nvoid __print(unsigned x) {cerr << x;}\r\nvoid __print(unsigned long x) {cerr << x;}\r\nvoid __print(unsigned long long x) {cerr << x;}\r\nvoid __print(float x) {cerr << x;}\r\nvoid __print(double x) {cerr << x;}\r\nvoid __print(long double x) {cerr << x;}\r\nvoid __print(char x) {cerr << '\\'' << x << '\\'';}\r\nvoid __print(const char *x) {cerr << '\\\"' << x << '\\\"';}\r\nvoid __print(const string &x) {cerr << '\\\"' << x << '\\\"';}\r\nvoid __print(bool x) {cerr << (x ? \"true\" : \"false\");}\r\ntemplate<typename T, typename V>\r\nvoid __print(const pair<T, V> &x) {cerr << '{'; __print(x.first); cerr << ','; __print(x.second); cerr << '}';}\r\ntemplate<typename T>\r\nvoid __print(const T &x) {int f = 0; cerr << '{'; for (auto &i: x) cerr << (f++ ? \",\" : \"\"), __print(i); cerr << \"}\";}\r\nvoid _print() {cerr << \"]\\n\";}\r\ntemplate <typename T, typename... V>\r\nvoid _print(T t, V... v) {__print(t); if (sizeof...(v)) cerr << \", \"; _print(v...);}\r\ntemplate <typename T, typename V>\r\nvoid mdebug(map<T,vi<V>>m){\r\n  for(auto x:m){\r\n    cerr << x.F << \" : [ \" ;\r\n    for(auto c:x.S)\r\n      cerr << c << \" \";\r\n    cerr << \"]\"<<endl ;\r\n  }\r\n}\r\n#define debug(x...) cerr << \"[\" << #x << \"] = [\"; _print(x)\r\n//#ifndef ONLINE_JUDGE\r\n//#ifndef LOCAL\r\n#define debug(x...) cerr << \"[\" << #x << \"] = [\"; _print(x)\r\n//#else\r\n//#define debug(x...)\r\n//#endif\r\n//#pragma GCC optimize \"trapv\"\r\ntemplate<class T> using oset =tree<T, null_type, less<T>, rb_tree_tag,tree_order_statistics_node_update> ;\r\n//credits for below template:William Lin(tmwilliamlin168)\r\n#define F_OR(i, a, b, s) for (int i = (a); ((s) > 0 ? i < (b) : i > (b)); i += (s))\r\n#define F_OR1(e) F_OR(i, 0, e, 1)\r\n#define F_OR2(i, e) F_OR(i, 0, e, 1)\r\n#define F_OR3(i, b, e) F_OR(i, b, e, 1)\r\n#define F_OR4(i, b, e, s) F_OR(i, b, e, s)\r\n#define GET5(a, b, c, d, e, ...) e\r\n#define F_ORC(...) GET5(__VA_ARGS__, F_OR4, F_OR3, F_OR2, F_OR1)\r\n#define FOR(...) F_ORC(__VA_ARGS__)(__VA_ARGS__)\r\n#define EACH(x, a) for (auto& x: a)\r\ntemplate<class T> bool umin(T& a, const T& b) {\r\n\treturn b<a?a=b, 1:0;\r\n}\r\ntemplate<class T> bool umax(T& a, const T& b) { \r\n\treturn a<b?a=b, 1:0;\r\n}\r\ntemplate<class A> void read(vi<A>& v);\r\ntemplate<class A, size_t S> void read(ar<A, S>& a);\r\ntemplate<class T> void read(T& x) {\r\n\tcin >> x;\r\n}\r\nvoid read(double& d) {\r\n\tstring t;\r\n\tread(t);\r\n\td=stod(t);\r\n}\r\nvoid read(long double& d) {\r\n\tstring t;\r\n\tread(t);\r\n\td=stold(t);\r\n}\r\ntemplate<class H, class... T> void read(H& h, T&... t) {\r\n\tread(h);\r\n\tread(t...);\r\n}\r\ntemplate<class A> void read(vi<A>& x) {\r\n\tEACH(a, x)\r\n\t\tread(a);\r\n}\r\ntemplate<class A, size_t S> void read(array<A, S>& x) {\r\n\tEACH(a, x)\r\n\t\tread(a);\r\n}\r\nstring to_string(char c) {\r\n\treturn string(1, c);\r\n}\r\nstring to_string(bool b) {\r\n\treturn b?\"true\":\"false\";\r\n}\r\nstring to_string(const char* s) {\r\n\treturn string(s);\r\n}\r\nstring to_string(string s) {\r\n\treturn s;\r\n}\r\nstring to_string(vi<bool> v) {\r\n\tstring res;\r\n\tFOR(sz(v))\r\n\t\tres+=char('0'+v[i]);\r\n\treturn res;\r\n}\r\n\r\ntemplate<size_t S> string to_string(bitset<S> b) {\r\n\tstring res;\r\n\tFOR(S)\r\n\t\tres+=char('0'+b[i]);\r\n\treturn res;\r\n}\r\ntemplate<class T> string to_string(T v) {\r\n    bool f=1;\r\n    string res;\r\n    EACH(x, v) {\r\n\t\tif(!f)\r\n\t\t\tres+=' ';\r\n\t\tf=0;\r\n\t\tres+=to_string(x);\r\n\t}\r\n    return res;\r\n}\r\n\r\ntemplate<class A> void pff(A x) {\r\n\tcout << to_string(x);\r\n}\r\ntemplate<class H, class... T> void pff(const H& h, const T&... t) { \r\n\tpff(h);\r\n\tpff(t...);\r\n}\r\nvoid print() {\r\n\tpff(\"\\n\");\r\n}\r\ntemplate<class H, class... T> void print(const H& h, const T&... t) { \r\n\tpff(h);\r\n\tif(sizeof...(t))\r\n\t\tpff(' ');\r\n\tprint(t...);\r\n}\r\nstruct PH{\r\n  size_t operator()(const pair<int,int>&x)const{\r\n    size_t ans=0;\r\n    for(int i=0;i<x.first;i++)\r\n      ans+=x.second;\r\n    return ans;\r\n  }\r\n};\r\nstruct custom_hash {\r\n  static uint64_t splitmix64(uint64_t x) {\r\n    // http://xorshift.di.unimi.it/splitmix64.c\r\n    x += 0x9e3779b97f4a7c15;\r\n    x = (x ^ (x >> 30)) * 0xbf58476d1ce4e5b9;\r\n    x = (x ^ (x >> 27)) * 0x94d049bb133111eb;\r\n    return x ^ (x >> 31);\r\n  }\r\n  size_t operator()(uint64_t x) const {\r\n    static const uint64_t FIXED_RANDOM = chrono::steady_clock::now().time_since_epoch().count();\r\n    return splitmix64(x + FIXED_RANDOM);\r\n  }\r\n};\r\n// void DBG() {\r\n// \tcerr << \"]\" << endl;\r\n// }\r\n// template<class H, class... T> void DBG(H h, T... t) {\r\n// \tcerr << to_string(h);\r\n// \tif(sizeof...(t))\r\n// \t\tcerr << \", \";\r\n// \tDBG(t...);\r\n// }\r\n// // #ifdef _DEBUG\r\n// #define dbg(...) cerr << \"LINE(\" << __LINE__ << \") -> [\" << #__VA_ARGS__ << \"]: [\", DBG(__VA_ARGS__)\r\n// // #else\r\n// // #define dbg(...) 0\r\n// // #endif\r\n\r\ntemplate<class T> void offset(ll o, T& x) {\r\n\tx+=o;\r\n}\r\ntemplate<class T> void offset(ll o, vi<T>& x) {\r\n\tEACH(a, x)\r\n\t\toffset(o, a);\r\n}\r\ntemplate<class T, size_t S> void offset(ll o, ar<T, S>& x) {\r\n\tEACH(a, x)\r\n\t\toffset(o, a);\r\n}\r\ntemplate<class T> void fk(T a) { \r\n  print(a) ;\r\n  exit(0) ;\r\n}\r\nvoid FIO(){\r\n\t\r\n\t#ifndef ONLINE_JUDGE \r\n\t\tfreopen(\"input.txt\",\"r\",stdin) ;\r\n\t\tfreopen(\"output.txt\",\"w\",stdout) ;\r\n\t#endif\r\n}\r\n#define pf(n) return print(n)\r\n#define int ll \r\nlong const M=1e9+7;\r\nconst ll INF =1e18;\r\n// order_of_key (k) : Number of items strictly smaller than k .\r\n// find_by_order(k) : K-th element in a set (counting from zero).\r\n//Syntax to create a min heap for priority queue\r\n// priority_queue <T, vector<T>, greater<T>>pq ;\r\n\r\n//make sure to clear the adjacency list for every test case \r\n// check mxN size \r\nconst long mxN =1e5+2 ;\r\nbool ok(int n){\r\n  for(int d=2;d*d<=n;d++){\r\n    if(n%d==0)\r\n      return 0 ;\r\n  }\r\n  return  1 ;\r\n}\r\nvoid solve(){\r\n  int n;read(n) ;\r\n  if(n==7){\r\n    print(7) ;\r\n    FOR(i,1,7)\r\n      print(i,i+1) ;\r\n    print(1,7) ;\r\n    return  ;\r\n    \r\n  }\r\n  vi<int>a ;\r\n  FOR(i,2,1001)\r\n    if(ok(i))\r\n      a.pb(i) ;\r\n  a.pb(1009) ;\r\n  int np ;\r\n  EACH(x,a){\r\n    if(x>=n){\r\n      np=x ;break ;\r\n    }\r\n  }\r\n  int np1 ;\r\n  EACH(x,a){\r\n    if(x>=n+1){\r\n      np1=x ;break ;\r\n    }\r\n  }\r\n  int del  ;\r\n  vi<int>head  ;\r\n  auto fix = [&](){\r\n    int H=sz(head) ;\r\n    FOR(k,3){\r\n      for(int i=0;i<H-1;i+=2){\r\n        if(!del)\r\n          break ;\r\n        print(head[i]+k,head[i+1]+k),del-- ;\r\n      }\r\n    }\r\n  } ;\r\n  if(n%3==0){\r\n    print(np) ;\r\n    del = np-n ;\r\n    for(int i=1;i<=n;i+=3){\r\n      head.pb(i) ;\r\n      print(i,i+1) ;\r\n      print(i,i+2) ;\r\n      print(i+1,i+2) ;\r\n    }\r\n    fix() ;\r\n    return ;\r\n  }\r\n  if(n%3==1){\r\n    \r\n    print(np1) ;\r\n    \r\n    del=np1-n-1 ;\r\n    print(4,2) ;\r\n    print(2,3) ;\r\n    print(4,3) ;\r\n    print(1,4) ;\r\n    print(1,3) ;\r\n    head.pb(1)  ;\r\n    for(int i=5;i<=n;i+=3){\r\n      head.pb(i) ;\r\n      print(i,i+1) ;\r\n      print(i,i+2) ;\r\n      print(i+1,i+2) ;\r\n    }\r\n    fix() ;\r\n    debug(head) ;\r\n  debug(del) ;\r\n    return ;\r\n  }\r\n  print(np) ;\r\n  del=np-n ;\r\n  FOR(i,1,5)\r\n    print(i,i+1) ;\r\n  print(5,1) ;\r\n  head.pb(1) ;\r\n  for(int i=6;i<=n;i+=3){\r\n    head.pb(i) ;\r\n    print(i,i+1) ;\r\n    print(i,i+2) ;\r\n    print(i+1,i+2) ;\r\n  }\r\n  // debug(head) ;\r\n  // debug(del) ;\r\n  \r\n  fix() ;\r\n}\r\nsigned main() {\r\n  ios_base::sync_with_stdio(false);\r\n  cin.tie(NULL);\r\n  //cout << setprecision(20) << fixed ;\r\n  int T=1;\r\n// \tread(T);\r\n\tFOR(_,T){\r\n\t\t// pff(\"Case #\", _+1, \": \");\r\n\t\tsolve();\r\n\t}\r\n\treturn 0;\r\n}"
}