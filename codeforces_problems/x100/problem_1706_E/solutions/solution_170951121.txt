{
    "id": 170951121,
    "contestId": 1706,
    "creationTimeSeconds": 1662384697,
    "relativeTimeSeconds": 3997,
    "problem": {
        "contestId": 1706,
        "index": "E",
        "name": "Qpwoeirut and Vertices",
        "type": "PROGRAMMING",
        "points": 2250.0,
        "rating": 2300,
        "tags": [
            "binary search",
            "data structures",
            "dfs and similar",
            "divide and conquer",
            "dsu",
            "greedy",
            "trees"
        ]
    },
    "author": {
        "contestId": 1706,
        "members": [
            {
                "handle": "Aleks5d"
            }
        ],
        "participantType": "VIRTUAL",
        "ghost": false,
        "startTimeSeconds": 1662380700
    },
    "programmingLanguage": "GNU C++20 (64)",
    "verdict": "RUNTIME_ERROR",
    "testset": "TESTS",
    "passedTestCount": 0,
    "timeConsumedMillis": 0,
    "memoryConsumedBytes": 0,
    "source": "#pragma optimize(\"SEX_ON_THE_BEACH\")\n#pragma GCC optimize(\"unroll-loops\")\n#pragma GCC optimize(\"unroll-all-loops\")\n#pragma GCC optimize(\"O3\")\n \n#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"fast-math\")\n//#define _FORTIFY_SOURCE 0 \n#pragma GCC optimize(\"no-stack-protector\")\n//#pragma GCC target(\"sse,sse2,sse3,ssse3,popcnt,abm,mmx,tune=native\") \n\n#include<bits/stdc++.h>\n#include <x86intrin.h>\n\nusing uint = unsigned int;\nusing ll = long long int;\nusing ull = unsigned long long int;\nusing dd = double;\nusing ldd = long double;\nusing pii = std::pair<int, int>;\nusing pll = std::pair<ll, ll>;\nusing pdd = std::pair<dd, dd>;\nusing pld = std::pair<ldd, ldd>;\n\nnamespace fast {\n    template<typename T>\n    T gcd(T a, T b) {\n        return gcd(a, b);\n    }\n\n    template<>\n    unsigned int gcd<unsigned int>(unsigned int u, unsigned int v) {\n        int shift;\n        if (u == 0)\n            return v;\n        if (v == 0)\n            return u;\n        shift = __builtin_ctz(u | v);\n        u >>= __builtin_ctz(u);\n        do {\n            unsigned int m;\n            v >>= __builtin_ctz(v);\n            v -= u;\n            m = (int)v >> 31;\n            u += v & m;\n            v = (v + m) ^ m;\n        } while (v != 0);\n        return u << shift;\n    }\n\n    template<>\n    unsigned long long gcd<unsigned long long>(unsigned long long u, unsigned long long v) {\n        int shift;\n        if (u == 0)\n            return v;\n        if (v == 0)\n            return u;\n        shift = __builtin_ctzll(u | v);\n        u >>= __builtin_ctzll(u);\n        do {\n            unsigned long long m;\n            v >>= __builtin_ctzll(v);\n            v -= u;\n            m = (long long)v >> 63;\n            u += v & m;\n            v = (v + m) ^ m;\n        } while (v != 0);\n        return u << shift;\n    }\n}\n \nnamespace someUsefull {\n    template<typename T1, typename T2>\n    inline void checkMin(T1& a, T2 b) {\n        if (a > b)\n            a = b;\n    }\n \n    template<typename T1, typename T2>\n    inline void checkMax(T1& a, T2 b) {\n        if (a < b)\n            a = b;\n    }\n\n    template<typename T1, typename T2>\n    inline bool checkMinRes(T1& a, T2 b) {\n        if (a > b) {\n            a = b;\n            return true;\n        }\n        return false;\n    }\n\n    template<typename T1, typename T2>\n    inline bool checkMaxRes(T1& a, T2 b) {\n        if (a < b) {\n            a = b;\n            return true;\n        }\n        return false;\n    }\n}\n \nnamespace operators {\n    template<typename T1, typename T2>\n    std::istream& operator>>(std::istream& in, std::pair<T1, T2>& x) {\n        in >> x.first >> x.second;\n        return in;\n    }\n \n    template<typename T1, typename T2>\n    std::ostream& operator<<(std::ostream& out, std::pair<T1, T2> x) {\n        out << x.first << \" \" << x.second;\n        return out;\n    }\n \n    template<typename T1>\n    std::istream& operator>>(std::istream& in, std::vector<T1>& x) {\n        for (auto& i : x) in >> i;\n        return in;\n    }\n \n    template<typename T1>\n    std::ostream& operator<<(std::ostream& out, std::vector<T1>& x) {\n        for (auto& i : x) out << i << \" \";\n        return out;\n    }\n}\n \n//name spaces\nusing namespace std;\nusing namespace operators;\nusing namespace someUsefull;\n//end of name spaces\n \n//defines\n#define ff first\n#define ss second\n#define all(x) (x).begin(), (x).end()\n#define rall(x) (x).rbegin(), (x).rend()\n#define NO {cout << \"NO\"; return;}\n#define YES {cout << \"YES\"; return;}\n \n//end of defines\n//#undef HOME\n//debug defines\n#ifdef HOME\n    #define debug(x) cerr << #x << \" \" << (x) << endl;\n    #define debug_v(x) {cerr << #x << \" \"; for (auto ioi : x) cerr << ioi << \" \"; cerr << endl;}\n    #define debug_vp(x) {cerr << #x << \" \"; for (auto ioi : x) cerr << '[' << ioi.ff << \" \" << ioi.ss << ']'; cerr << endl;}\n    #define debug_v_v(x) {cerr << #x << \"/*\\n\"; for (auto ioi : x) { for (auto ioi2 : ioi) cerr << ioi2 << \" \"; cerr << '\\n';} cerr << \"*/\" << #x << endl;}\n    int jjj;\n    #define wait() cin >> jjj;\n    #define PO cerr << \"POMELO\" << endl;\n    #define OL cerr << \"OLIVA\" << endl;\n    #define gen_clock(x) cerr << \"Clock \" << #x << \" created\" << endl; ll x = clock(); \n    #define check_clock(x) cerr << \"Time spent in \" << #x << \": \" << clock() - x << endl; x = clock();\n    #define reset_clock(x) x = clock();\n    #define say(x) cerr << x << endl;\n#else\n    #define debug(x) 0;\n    #define debug_v(x) 0;\n    #define debug_vp(x) 0;\n    #define debug_v_v(x) 0;\n    #define wait() 0;\n    #define PO 0;\n    #define OL 0;\n    #define gen_clock(x) 0;\n    #define check_clock(x) 0;\n    #define reset_clock(x) 0;\n    #define say(x) 0;\n#endif // HOME\n\nint _size;\nvector<int> tree;\nvector<pair<int, int>> arr;\n\nint get(int v, int l, int r, int fl, int fr) {\n    if (r <= l || r <= fl || fr <= l) return 0;\n    if (fl <= l && r <= fr) return tree[v];\n    return max(get(v << 1, l, (r + l) >> 1, fl, fr), get(v << 1 | 1, (r + l) >> 1, r, fl, fr));\n}\n\nint block = 1;\n\nvector<vector<int>> pre, sz;\n\nint gp(int a, vector<int>& pre) {\n    while (a != pre[a]) a = pre[a];\n    return a;\n}\n\nvector<int> rev; \n\nbool mer(int a, int b, vector<int>& pre, vector<int>& sz) {\n    a = gp(a, pre);\n    b = gp(b, pre);\n    if (a == b) return 0;\n    if (sz[a] < sz[b]) swap(a, b);\n    // sz[a] >= sz[b];\n    pre[b] = a;\n    sz[a] += sz[b];\n    rev.push_back(b);\n    return true;\n}\n\nvoid rever(vector<int> &pre, vector<int>& sz) {\n    while (rev.size()) {\n        int v = rev.back();\n        rev.pop_back();\n        sz[pre[v]] -= sz[v];\n        pre[v] = v;\n    }\n}\n\nint ask(int a, int b) {\n    rev.clear();\n    int i;\n    for (i = 0; i < pre.size(); ++i) {\n        if (gp(a, pre[i]) == gp(b, pre[i])) break;\n    }\n    --i;\n    int start = i * block;\n    while (gp(a, pre[i]) != gp(b, pre[i])) {\n        mer(arr[start].ff, arr[start].ss, pre[i], sz[i]);\n        ++start;\n    }\n    rever(pre[i], sz[i]);\n    return start;\n}\n\nvoid solve(int test) {\n    int n, m, q;\n    cin >> n >> m >> q;\n    arr.clear();\n    arr.resize(m);\n    for (int i = 0; i < m; ++i) {\n        cin >> arr[i];\n        arr[i].ff--;\n        arr[i].ss--;\n    }\n\n    pre.clear();\n    sz.clear();\n    pre.push_back(vector<int>(n));\n    sz.push_back(vector<int>(n));\n    for (int i = 0; i < n; ++i) {\n        pre[0][i] = i;\n        sz[0][i] = 1;\n    }\n\n    for (int i = 0; i < n; i += block) {\n        pre.push_back(pre.back());\n        sz.push_back(sz.back());\n        for (int j = i; j < min(i + block, n); ++j) {\n            mer(arr[j].ff, arr[j].ss, pre.back(), sz.back());\n        }\n        rev.clear();\n    }\n\n    _size = 1;\n    while (_size < n) _size <<= 1;\n    tree.clear();\n    tree.resize(_size << 1);\n    for (int i = 0; i < n - 1; ++i) {\n        tree[i + _size] = ask(i, i + 1);\n    }\n    for (int i = _size - 1; i > 0; --i) {\n        tree[i] = max(tree[i << 1], tree[i << 1 | 1]);\n    }\n\n    for (int i = 0; i < q; ++i) {\n        int l, r;\n        cin >> l >> r;\n        --l;\n        --r;\n        if (l == r) cout << 0 << \" \";\n        else cout << get(1, 0, _size, l, r) << \" \";   \n    }\n}\n \nsigned main() {\n    ios_base::sync_with_stdio(false);\n    cout.tie(0);\n    cin.tie(0);\n    //freopen(\"file.in\", \"r\", stdin);\n    //freopen(\"file.out\", \"w\", stdout);\n \n    int t = 1;\n    cin >> t;\n    for (int i = 0; i < t; ++i) {\n        solve(i+1);\n        cout << '\\n';\n        //PO;\n    }\n    return 0;\n}\n/*\n*/"
}