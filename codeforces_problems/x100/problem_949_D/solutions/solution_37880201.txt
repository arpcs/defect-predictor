{
    "id": 37880201,
    "contestId": 949,
    "creationTimeSeconds": 1525429874,
    "relativeTimeSeconds": 2147483647,
    "problem": {
        "contestId": 949,
        "index": "D",
        "name": "Curfew",
        "type": "PROGRAMMING",
        "points": 1750.0,
        "rating": 2300,
        "tags": [
            "binary search",
            "brute force",
            "greedy",
            "sortings"
        ]
    },
    "author": {
        "contestId": 949,
        "members": [
            {
                "handle": "ioeyoayao"
            }
        ],
        "participantType": "PRACTICE",
        "ghost": false,
        "startTimeSeconds": 1520583000
    },
    "programmingLanguage": "GNU C++14",
    "verdict": "WRONG_ANSWER",
    "testset": "TESTS",
    "passedTestCount": 9,
    "timeConsumedMillis": 46,
    "memoryConsumedBytes": 4505600,
    "source": "// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n// \ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4\ud83d\udda4 //\n\n#include <bits/stdc++.h>\n\nusing std::cerr;\nusing std::cin;\nusing std::cout;\n\nusing std::abs;\nusing std::min;\nusing std::max;\nusing std::swap;\n\nusing std::map;\nusing std::pair;\nusing std::set;\nusing std::string;\nusing std::vector;\n\nusing ll = long long;\nusing uint = unsigned int;\nusing pii = pair<int, int>;\nusing pll = pair<ll, ll>;\n\n#define ff first\n#define ss second\n#define pb emplace_back\ntemplate<typename T> \nvoid _dbg(const char* _s, T _h) {\n    cerr << _s << \" = \" << _h <<\"\\n\"; \n}\ntemplate<typename T, typename... Ts>\nvoid _dbg(const char* _s, T _h, Ts... _t) {\n    int _b = 0;\n    while (((_b += *_s == '(') -= *_s == ')') != 0 || *_s != ',')\n        cerr << *_s++; \n    cerr << \" = \" << _h << \",\"; \n    _dbg(_s+1, _t...);\n}\n#ifdef LOCAL\n#define dbg(...) _dbg(#__VA_ARGS__, __VA_ARGS__)\n#else\n#define dbg(...) \n#endif\n\nstruct init {\n    init() {\n        cin.tie(0);\n        std::iostream::sync_with_stdio(0);\n        cout << std::fixed << std::setprecision(10);\n        cerr << std::fixed << std::setprecision(5);\n        #ifdef LOCAL\n        srand(300); \n        #else\n        using namespace std::chrono;\n        srand(duration_cast<nanoseconds>(high_resolution_clock::now().time_since_epoch()).count()); \n        #endif\n    }\n    ~init() {\n        #ifdef LOCAL\n        cerr << \"Time elapsed: \" << (double)clock() / CLOCKS_PER_SEC << \"s.\\n\";\n        #endif\n    }\n} init;\n\nconst int MAXN = 1e5 + 15;\nint ta[MAXN], a[MAXN];\nint n, d, b;\nint solve(int x, int rooms) {\n    int sum = 0, l = 1, r = 0, res = 0;\n    for (int i = 1; i <= rooms; ++i) {\n        while (r + 1 - i <= d * i && r < x) {\n            sum += a[++r];\n        }\n        // dbg(i, l, r, sum, a[i]);\n        if (sum < b) {\n            if (i == l)\n                l++;\n            a[l] += a[i];\n            res++;\n        } else {\n            int xex = 0;\n            while (1) {\n                if (xex + a[l] >= b) {\n                    int add = b - xex;\n                    xex += add;\n                    a[l] -= add;\n                    sum -= add;\n                    break;\n                } else {\n                    sum -= a[l];\n                    xex += a[l];\n                    a[l] = 0;\n                    ++l;\n                }\n            }\n        }\n        // dbg(res, a[i], sum);\n    }\n    return res;\n}\n\npii check(int m) {\n    int x = 1, lt, rt;\n    for (int sum = ta[1]; x <= n; sum += ta[++x])\n        if (sum >= m) {\n            lt = m - (sum - ta[x]);\n            rt = ta[x] - lt;\n            break;\n        }\n    for (int i = 1; i < x; ++i)\n        a[i] = ta[i];\n    a[x] = lt;\n    int l = solve(x, (n+1)/2);\n    x = n - x + 1;\n    for (int i = 1; i < x; ++i)\n        a[i] = ta[n - i + 1];\n    a[x] = rt;\n    int r = solve(x, (n+0)/2);\n    return {l, r};\n}\n\nint main() {\n    \n    cin >> n >> d >> b;\n    for (int i = 1; i <= n; ++i)\n        cin >> ta[i];\n    \n    // for (int i = 0; i <= n * d; ++i) {\n    //     auto pp = check(i);\n    //     dbg(pp.ff, pp.ss);\n    // }\n    // return 0;\n\n    // debug\n    // for (int i = 1; i <= n; ++i) {\n    //     a[i] = ta[i];\n    // }\n    // dbg(solve(n));\n    // return 0;\n\n    int l = 0, r = n * d + 1;\n    while (r - l > 1) {\n        int m = (l + r) / 2;\n        pii g = check(m);\n        if (g.ff > g.ss)\n            l = m;\n        else\n            r = m;\n    }\n    dbg(r);\n    auto res1 = check(r - 1), res2 = check(r);\n    dbg(res2.ff, res2.ss);\n    cout << min(max(res1.ff, res1.ss), max(res2.ff, res2.ss)) << '\\n';\n    \n    return 0;\n}\n"
}