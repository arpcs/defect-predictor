{
    "id": 36114621,
    "contestId": 949,
    "creationTimeSeconds": 1520597352,
    "relativeTimeSeconds": 2147483647,
    "problem": {
        "contestId": 949,
        "index": "D",
        "name": "Curfew",
        "type": "PROGRAMMING",
        "points": 1750.0,
        "rating": 2300,
        "tags": [
            "binary search",
            "brute force",
            "greedy",
            "sortings"
        ]
    },
    "author": {
        "contestId": 949,
        "members": [
            {
                "handle": "giraffeh"
            }
        ],
        "participantType": "PRACTICE",
        "ghost": false,
        "startTimeSeconds": 1520583000
    },
    "programmingLanguage": "GNU C++14",
    "verdict": "COMPILATION_ERROR",
    "testset": "TESTS",
    "passedTestCount": 0,
    "timeConsumedMillis": 0,
    "memoryConsumedBytes": 0,
    "source": "///      That's a Cigarette Day, my Sun\r\n\r\n#include <bits/stdc++.h>\r\n#include <quadmath.h>\r\n#include <ext/pb_ds/assoc_container.hpp>\r\n#include <ext/pb_ds/tree_policy.hpp>\r\n\r\n#ifdef LOCAL\r\n    #define deb if(1)\r\n#else\r\n    #define deb if(0)\r\n#endif // LOCAL\r\n\r\n#pragma pack(1)\r\n#pragma GCC optimize(\"O3\")\r\n\r\n#define pb push_back\r\n#define mp make_pair\r\n#define fi first\r\n#define prev asfansjfansjabfasjlbfa\r\n#define se second\r\n#define I \"%d\"\r\n#define II \"%d%d\"\r\n#define III \"%d%d%d\"\r\n#define elif else if\r\n#define out_files freopen(\"input.txt\", \"r\", stdin);freopen(\"output.txt\", \"w\", stdout)\r\n#define all(x) (x).begin(), (x).end()\r\n#define fast ios_base::sync_with_stdio(0);cin.tie(0);cout.tie(0);\r\n#define y1 asnflainflawnfaw\r\n#define y0 snalfklawnfasdaspqw\r\n#define BLEAT cout << \"bleat!!!\\n\"\r\n#define files(x) ((x != \"\") ? freopen(x\".in\", \"r\", stdin), freopen(x\".out\", \"w\", stdout) : 0)\r\n#define files_dat_sol(x)  ((x != \"\") ? freopen(x\".dat\", \"r\", stdin), freopen(x\".sol\", \"w\", stdout) : 0)\r\n#define next askfnlabfae\r\n#define int ll\r\n\r\nusing namespace std;\r\nusing namespace __gnu_pbds;\r\n\r\ntypedef std::vector <int> vi;\r\ntypedef long long ll;\r\ntypedef long double ld;\r\ntypedef unsigned long long ull;\r\ntypedef std::pair <int, int> pii;\r\ntypedef std::vector <pii> vii;\r\ntypedef tree<int, null_type, less<int>, rb_tree_tag, tree_order_statistics_node_update> ordered_set;\r\n\r\n#ifdef WIN32\r\n    #define I64 \"%I64d\"\r\n#else\r\n    #define I64 \"%lld\"\r\n#endif // WIN32\r\n\r\nconst int inf = 1000000000;\r\nconst ll INF = 1LL*inf*inf;\r\nconst long double eps = 1e-9;\r\nconst int md = 1e9 + 7;\r\nconst int md1 = 1e9 + 9;\r\nconst long double EPS = 1e-5;\r\nconst ll maxll = std::numeric_limits<ll>::max();\r\nconst long double PI = acos(-1.0);\r\n\r\ntemplate <typename name> inline name sqr(name x)\r\n{\r\n    return x*x;\r\n}\r\n\r\nld log(ld base, ld n)\r\n{\r\n    return log(n) / log(base);\r\n}\r\n\r\ninline ll multmod(ll a, ll b, ll md)\r\n{\r\n    if (!a) return 0;\r\n    if (a % 2 == 1)\r\n        return (multmod(a-1, b, md) + b) % md;\r\n    else\r\n        return sqr(multmod(a/2, b, md)) % md;\r\n}\r\n\r\ntemplate <typename name> inline name bpow(const name& base, ll exp, const ll& md = maxll)\r\n{\r\n    if (exp == 1) return base;\r\n    if (exp % 2 == 1)\r\n        return (bpow<name>(base, exp-1, md) * base) % md;\r\n    else\r\n    {\r\n        name k = bpow<name>(base, exp/2, md);\r\n        return (k*k)%md;\r\n    }\r\n}\r\n\r\nunsigned char ccc;\r\n\r\ninline bool read(int &n)\r\n{\r\n    n = 0;\r\n    bool _minus = false;\r\n    while (true) {\r\n        ccc = getchar();\r\n        if (ccc == ' ' || ccc == '\\n')\r\n            break;\r\n        if (ccc == '-') {\r\n            _minus = true;\r\n            continue;\r\n        }\r\n        n = n * 10 + ccc - '0';\r\n    }\r\n    if (_minus)\r\n        n *= -1;\r\n    return 1;\r\n}\r\n\r\ninline void read(int &n, int& m)\r\n{\r\n    read(n);\r\n    read(m);\r\n}\r\n\r\ninline void read(int &n, int &m, int &k)\r\n{\r\n    read(n);\r\n    read(m);\r\n    read(k);\r\n}\r\n\r\ninline void read(std::string &s)\r\n{\r\n    s = \"\";\r\n    while (true)\r\n    {\r\n        ccc = getchar();\r\n        if (ccc == ' ' || ccc == '\\n')\r\n            break;\r\n        s += ccc;\r\n    }\r\n}\r\n\r\ntemplate<int N, int M> struct Matr\r\n{\r\n    ll a[N][M];\r\n    Matr()\r\n    {\r\n        for (int i=0; i<N; i++)\r\n            for (int j=0; j<M; j++)\r\n                a[i][j] = 0;\r\n    }\r\n    Matr(const Matr& cp)\r\n    {\r\n        for (int i=0; i<N; i++)\r\n            for (int j=0; j<M; j++)\r\n                a[i][j] = cp.a[i][j];\r\n    }\r\n    void clear()\r\n    {\r\n        for (int i=0; i<N; i++)\r\n            for (int j=0; j<M; j++)\r\n                a[i][j] = 0;\r\n        for (int i=0; i<min(N, M); i++)\r\n            a[i][i] = 1;\r\n    }\r\n};\r\n\r\ntemplate<int N, int M, int K> const Matr<N, M> operator*(Matr<N, K>& lhs, Matr<K, M>& rhs)\r\n{\r\n    Matr<N, M> res;\r\n    for (int i=0; i<N; i++)\r\n        for (int j=0; j<M; j++)\r\n            for (int k=0; k<K; k++)\r\n            {\r\n                res.a[i][j] += (1ll * lhs.a[i][k] * rhs.a[k][j]) % md;\r\n                res.a[i][j] += md;\r\n                res.a[i][j] %= md;\r\n            }\r\n    return res;\r\n}\r\n\r\ntemplate<int N> Matr<N, N> pow_(Matr<N, N> base, ll exp)\r\n{\r\n    Matr<N, N> ans;\r\n    ans.clear();\r\n    while (exp)\r\n    {\r\n        if (exp % 2)\r\n            ans = ans * base;\r\n        base = base * base;\r\n        exp /= 2ll;\r\n    }\r\n    return ans;\r\n}\r\n\r\ntemplate<int N, int M> ostream& operator << (ostream& os, Matr<N, M>& rhs)\r\n{\r\n    for (int i=0; i<N; i++)\r\n        for (int j=0; j<M; j++)\r\n            os << rhs.a[i][j] << (j == M-1 ? \"\\n\" : \" \");\r\n    return os;\r\n}\r\n\r\ntemplate<typename T1, typename T2> inline T1 min(const T1 x, const T2 y)\r\n{\r\n    return (x > y ? y : x);\r\n}\r\n\r\ntemplate<typename T1, typename T2> inline T1 max(const T1 x, const T2 y)\r\n{\r\n    return (x < y ? y : x);\r\n}\r\n\r\ntemplate<typename T1, typename T2> ostream& operator<<(ostream& os, const pair<T1, T2>& rhs)\r\n{\r\n    os << rhs.fi << \" \" << rhs.se;\r\n    return os;\r\n}\r\n\r\ntemplate<typename T1> ostream& operator<<(ostream& os, const vector<T1>& rhs)\r\n{\r\n    for (int i=0; i<(int)rhs.size(); i++)\r\n        cout << rhs[i] << (i == (int)rhs.size() - 1 ? \"\" : \" \");\r\n    return os;\r\n}\r\n\r\ntemplate<typename T> inline void minimize(T& value, const T& relax_value)\r\n{\r\n    value = min(value, relax_value);\r\n}\r\n\r\ntemplate<typename T> inline void maximize(T& value, const T& relax_value)\r\n{\r\n    value = max(value, relax_value);\r\n}\r\n\r\ntemplate<typename T> const pair<T, T> operator + (const pair<T, T>& lhs, const T& rhs)\r\n{\r\n    return mp(lhs.fi + rhs, lhs.se + rhs);\r\n}\r\n\r\ntemplate<typename T> const vector<T> operator + (const vector<T>& lhs, const T& rhs)\r\n{\r\n    vector<T> buff = lhs;\r\n    for (auto &x : buff)\r\n        x += rhs;\r\n    return buff;\r\n}\r\n\r\ntemplate<typename T> const vector<T> operator + (const vector<T>& lhs, const vector<T>& rhs)\r\n{\r\n    vector<T> answer = lhs;\r\n    for (auto x : rhs)\r\n        answer.push_back(x);\r\n    return answer;\r\n}\r\n\r\n///-------------------------End of Template-------------------------///\r\n\r\nconst int MAXN = 2e6 + 1;\r\nconst int BASE = 31;\r\n\r\nint n, b, d;\r\nint pref[MAXN], a[MAXN], curpref[MAXN], cur[MAXN];\r\n\r\nint sum(ll l, ll r)\r\n{\r\n    r = min(r, n - 1);\r\n    l = max(0, l);\r\n    return pref[r] - (l ? pref[l-1] : 0);\r\n}\r\n\r\nint cursum(ll l, ll r)\r\n{\r\n    r = min(r, n - 1);\r\n    l = max(0, l);\r\n    return curpref[r] - (l ? curpref[l-1] : 0);\r\n}\r\n\r\nbool check(int x)\r\n{\r\n    for (int i=0; i<n; i++)\r\n        cur[i] = a[i];\r\n\r\n    int x1 = x;\r\n    int x2 = x;\r\n    if (n % 2) x2--;\r\n\r\n    int mid = (n + 1) / 2, flag = 0;\r\n    int delta1 = max(0, 1ll * x1 * b - sum(0, mid - 1));\r\n    int delta2 = max(0, 1ll * x2 * b - sum(mid, n - 1));\r\n    if (delta1) flag = 1;\r\n    if (delta2) flag = 2;\r\n    for (int i = mid; delta1 > 0; i++)\r\n    {\r\n        int add = min(delta1, cur[i]);\r\n        delta1 -= add;\r\n        //cout << i << \" \" << delta1 << endl;\r\n        cur[i] -= add;\r\n    }\r\n    for (int i = mid - 1; delta2 > 0; i--)\r\n    {\r\n        int add = min(delta2, cur[i]);\r\n        delta2 -= add;\r\n        //cout << i << \" \" << delta2 << endl;\r\n        cur[i] -= add;\r\n    }\r\n//    cout << flag << \"\\n\";\r\n//    for (int i=0; i<n; i++)\r\n//        cout << cur[i] << \" \";\r\n//    cout << \"\\n\";\r\n    for (int i=0; i<n; i++)\r\n        curpref[i] = (i ? curpref[i-1] : 0) + cur[i];\r\n\r\n    for (int i=mid - x1; i<mid; i++)\r\n    {\r\n        if (flag == 1)\r\n        {\r\n            int can = sum(i - (i + 1) * d * 1ll, i + (i + 1) * d * 1ll);\r\n            //cout << i << \" \" << can << \"\\n\";\r\n            if (can - (i - mid + x1) * b < b)\r\n                return false;\r\n        } else\r\n        {\r\n            int can = cursum(i - (i + 1) * d * 1ll, i + (i + 1) * d * 1ll);\r\n            //cout << i << \" \" << can << \"\\n\";\r\n\r\n            if (can - (i - mid + x1) * b < b)\r\n                return false;\r\n        }\r\n    }\r\n\r\n    for (int i=mid+x2-1; i>=mid; i--)\r\n    {\r\n        if (flag == 2)\r\n        {\r\n            int can = sum(i - (n - i) * d * 1ll, i + (n - i) * d * 1ll);\r\n            //cout << i << \" \" << can << \"\\n\";\r\n            if (can - (mid + x2 - 1 - i) * b < b)\r\n                return false;\r\n        } else\r\n        {\r\n            int can = cursum(i - (n - i) * d * 1ll, i + (n - i) * d * 1ll);\r\n            //cout << i << \" \" << can << \"\\n\";\r\n            if (can - (mid + x2 - 1 - i) * b < b)\r\n                return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nmain()\r\n{\r\n    #ifdef LOCAL\r\n        freopen(\"input.txt\", \"r\", stdin);\r\n        freopen(\"output.txt\", \"w\", stdout);\r\n    #endif\r\n\r\n    scanf(III, &n, &d, &b);\r\n    for (int i=0; i<n; i++)\r\n        scanf(I, &a[i]);\r\n    for (int i=0; i<n; i++)\r\n        pref[i] = (i ? pref[i-1] : 0) + a[i];\r\n    int l=0, r=(n + 1) / 2;\r\n    while (r - l > 1)\r\n    {\r\n        int d = (l + r) / 2;\r\n        //cout << l << ' ' << r << ' ' << d << endl;\r\n        if (check(d)) l = d; else r = d;\r\n    }\r\n    if (check(r)) cout << (n + 1) / 2 - r; else cout << (n + 1) / 2 - l;\r\n}\r\n"
}