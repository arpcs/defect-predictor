{
    "id": 154044535,
    "contestId": 1665,
    "creationTimeSeconds": 1650346558,
    "relativeTimeSeconds": 2147483647,
    "problem": {
        "contestId": 1665,
        "index": "C",
        "name": "Tree Infection",
        "type": "PROGRAMMING",
        "points": 1250.0,
        "rating": 1600,
        "tags": [
            "binary search",
            "greedy",
            "sortings",
            "trees"
        ]
    },
    "author": {
        "contestId": 1665,
        "members": [
            {
                "handle": "vickyguptaa7"
            }
        ],
        "participantType": "PRACTICE",
        "ghost": false,
        "startTimeSeconds": 1649428500
    },
    "programmingLanguage": "GNU C++17",
    "verdict": "OK",
    "testset": "TESTS",
    "passedTestCount": 27,
    "timeConsumedMillis": 77,
    "memoryConsumedBytes": 9216000,
    "source": "// Vicky_Gupta\r\n#include <iostream>\r\n#include <bits/stdc++.h>\r\n// #include <sys/resource.h>\r\n// #include <ext/pb_ds/assoc_container.hpp>\r\n// #include <ext/pb_ds/tree_policy.hpp>\r\nusing namespace std;\r\n// using namespace chrono;\r\n// using namespace __gnu_pbds;\r\n\r\n// def\r\n// #define Vicky_Gupta 1\r\n\r\n// Speed\r\n#define You ios_base::sync_with_stdio(false);\r\n#define Can cin.tie(NULL);\r\n#define Do_It cout.tie(NULL);\r\n\r\n// Aliases\r\nusing ll = long long;\r\nusing lld = long double;\r\nusing ull = unsigned long;\r\n\r\n// Constants\r\nconst lld pi = 3.141592653;\r\nconst ll INF = 1e18;\r\nconst ll mod = 1e9 + 7;\r\n\r\n// TypeDEf\r\ntypedef pair<int, int> ppi;\r\ntypedef pair<ll, ll> pll;\r\ntypedef vector<int> vi;\r\ntypedef vector<ll> vll;\r\ntypedef vector<ppi> vpi;\r\ntypedef vector<pll> vpll;\r\ntypedef vector<string> vs;\r\ntypedef unordered_map<ll, ll> umll;\r\ntypedef map<ll, ll> mll;\r\n\r\n// Macros\r\n#define ff first\r\n#define ss second\r\n#define pb push_back\r\n#define mp make_pair\r\n#define fl(i, n) for (int i = 0; i < n; i++)\r\n#define rl(i, m, n) for (int i = n; i >= m; i--)\r\n#define py cout << \"YES\\n\";\r\n#define pm cout << \"-1\\n\";\r\n#define pn cout << \"NO\\n\";\r\n#define vr(v) v.begin(), v.end()\r\n#define rv(v) v.end(), v.begin()\r\n\r\n// Debug\r\n#ifdef Vicky_Gupta\r\n#define debug(x)       \\\r\n    cerr << #x << \" \"; \\\r\n    cerr << x << \" \";  \\\r\n    cerr << endl;\r\n#else\r\n#define debug(x) ;\r\n#endif\r\n\r\n// Operator overloads\r\ntemplate <typename T1, typename T2> // cin >> pair<T1, T2>\r\nistream &operator>>(istream &istream, pair<T1, T2> &p)\r\n{\r\n    return (istream >> p.first >> p.second);\r\n}\r\ntemplate <typename T> // cin >> vector<T>\r\nistream &operator>>(istream &istream, vector<T> &v)\r\n{\r\n    for (auto &it : v)\r\n        cin >> it;\r\n    return istream;\r\n}\r\ntemplate <typename T1, typename T2> // cout << pair<T1, T2>\r\nostream &operator<<(ostream &ostream, const pair<T1, T2> &p)\r\n{\r\n    return (ostream << p.first << \" \" << p.second);\r\n}\r\ntemplate <typename T> // cout << vector<T>\r\nostream &operator<<(ostream &ostream, const vector<T> &c)\r\n{\r\n    for (auto &it : c)\r\n        cout << it << \" \";\r\n    return ostream;\r\n}\r\n\r\n// Utility functions\r\ntemplate <typename T>\r\nvoid print(T &&t) { cout << t << '\\n'; }\r\nvoid printarr(ll arr[], ll n)\r\n{\r\n    fl(i, n) cout << arr[i] << \" \";\r\n    cout << '\\n';\r\n}\r\ntemplate <typename T>\r\nvoid printvec(vector<T> v)\r\n{\r\n    ll n = v.size();\r\n    fl(i, n) cout << v[i] << \" \";\r\n    cout << '\\n';\r\n}\r\n\r\n// Mathematical functions\r\nll gcd(ll a, ll b)\r\n{\r\n    if (b == 0)\r\n        return a;\r\n    return gcd(b, a % b);\r\n} //__gcd\r\nll lcm(ll a, ll b) { return (a / gcd(a, b) * b); }\r\nll moduloMultiplication(ll a, ll b, ll mod)\r\n{\r\n    ll res = 0;\r\n    a %= mod;\r\n    while (b)\r\n    {\r\n        if (b & 1)\r\n            res = (res + a) % mod;\r\n        b >>= 1;\r\n    }\r\n    return res;\r\n}\r\nll powermod(ll x, ll y, ll p)\r\n{\r\n    ll res = 1;\r\n    x = x % p;\r\n    if (x == 0)\r\n        return 0;\r\n    while (y > 0)\r\n    {\r\n        if (y & 1)\r\n            res = (res * x) % p;\r\n        y = y >> 1;\r\n        x = (x * x) % p;\r\n    }\r\n    return res;\r\n}\r\n\r\n// Graph-dfs\r\n//  bool gone[MN];\r\n//  vector<int> adj[MN];\r\n//  void dfs(int loc){\r\n//      gone[loc]=true;\r\n//      for(auto x:adj[loc])if(!gone[x])dfs(x);\r\n//  }\r\n\r\n// Sorting\r\nbool sortpa(const pair<int, int> &a, const pair<int, int> &b) { return (a.second < b.second); }\r\nbool sortpd(const pair<int, int> &a, const pair<int, int> &b) { return (a.second > b.second); }\r\n\r\n// Bits\r\nstring decToBinary(int n)\r\n{\r\n    string s = \"\";\r\n    int i = 0;\r\n    while (n > 0)\r\n    {\r\n        s = to_string(n % 2) + s;\r\n        n = n / 2;\r\n        i++;\r\n    }\r\n    return s;\r\n}\r\nll binaryToDecimal(string n)\r\n{\r\n    string num = n;\r\n    ll dec_value = 0;\r\n    int base = 1;\r\n    int len = num.length();\r\n    for (int i = len - 1; i >= 0; i--)\r\n    {\r\n        if (num[i] == '1')\r\n            dec_value += base;\r\n        base = base * 2;\r\n    }\r\n    return dec_value;\r\n}\r\n\r\n// Check\r\nbool isPrime(ll n)\r\n{\r\n    if (n <= 1)\r\n        return false;\r\n    if (n <= 3)\r\n        return true;\r\n    if (n % 2 == 0 || n % 3 == 0)\r\n        return false;\r\n    for (int i = 5; i * i <= n; i = i + 6)\r\n        if (n % i == 0 || n % (i + 2) == 0)\r\n            return false;\r\n    return true;\r\n}\r\nbool isPowerOfTwo(int n)\r\n{\r\n    if (n == 0)\r\n        return false;\r\n    return (ceil(log2(n)) == floor(log2(n)));\r\n}\r\nbool isPerfectSquare(ll x)\r\n{\r\n    if (x >= 0)\r\n    {\r\n        ll sr = sqrt(x);\r\n        return (sr * sr == x);\r\n    }\r\n    return false;\r\n}\r\n\r\n// Code by Vicky Gupta\r\n// Language C++\r\n\r\n// accumulate(first, last, sum);\r\n// max_element(first, last);\r\n// min_element(first, last);\r\n\r\n// Code\r\n\r\nint height_Tree(vi list[], int src)\r\n{\r\n    int mxHight = 1;\r\n    for (auto curr : list[src])\r\n    {\r\n        mxHight = max(mxHight, 1 + height_Tree(list, curr));\r\n    }\r\n    return mxHight;\r\n}\r\n\r\nvoid solve()\r\n{\r\n    ll n;\r\n    cin >> n;\r\n    vll arr[n + 1];\r\n    fl(i, n - 1)\r\n    {\r\n        int num;\r\n        cin >> num;\r\n        arr[num].push_back(i + 2);\r\n    }\r\n    int maxChld = 0;\r\n    vll list;\r\n    fl(i, n + 1)\r\n    {\r\n        if (!arr[i].empty())\r\n            list.push_back(arr[i].size());\r\n    }\r\n    list.push_back(1);\r\n\r\n    priority_queue<ll> pque;\r\n    sort(vr(list));\r\n\r\n    fl(i, list.size())\r\n    {\r\n        if ((i + 1) < list[i])\r\n        {\r\n            pque.push(list[i] - (i + 1));\r\n        }\r\n    }\r\n\r\n    ll ans = list.size();\r\n    queue<ll> que;\r\n    while (!pque.empty())\r\n    {\r\n        ans++;\r\n        if (pque.top() - 2 > 0)\r\n        {\r\n            que.push(pque.top() - 2);\r\n        }\r\n        pque.pop();\r\n\r\n        while (!pque.empty())\r\n        {\r\n            ll num = pque.top();\r\n            pque.pop();\r\n            if (num - 1 > 0)\r\n            {\r\n                que.push(num - 1);\r\n            }\r\n        }\r\n        while (!que.empty())\r\n        {\r\n            pque.push(que.front());\r\n            que.pop();\r\n        }\r\n    }\r\n    cout << ans << \"\\n\";\r\n}\r\n/*\r\nWhen you are coding,remember to:\r\n      - clear the arrays if a problem has many tasks.\r\n      - pay attention to some special cases(n=0,1).\r\n      - Don't code before think completely.\r\n      - ...\r\n*/\r\n// Main\r\nint main()\r\n{\r\n    //#ifndef ONLINE_JUDGE\r\n    //    freopen(\"Input.txt\", \"r\", stdin);\r\n    //    freopen(\"Output.txt\", \"w\", stdout);\r\n    //#endif\r\n    You Can Do_It\r\n        ll t;\r\n    cin >> t;\r\n    fl(i, t)\r\n    {\r\n        solve();\r\n    }\r\n    // solve();\r\n    // fl(i,t) //Kickstart\r\n    // {\r\n    //     cout<<\"Case #\"<<i+1<<\": \";\r\n    //     solve();\r\n    //     cout<<'\\n';\r\n    // }\r\n    return 0;\r\n}\r\n"
}