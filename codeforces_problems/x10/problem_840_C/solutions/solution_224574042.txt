{
    "id": 224574042,
    "contestId": 840,
    "creationTimeSeconds": 1695368461,
    "relativeTimeSeconds": 2147483647,
    "problem": {
        "contestId": 840,
        "index": "C",
        "name": "On the Bench",
        "type": "PROGRAMMING",
        "points": 1500.0,
        "rating": 2500,
        "tags": [
            "combinatorics",
            "dp"
        ]
    },
    "author": {
        "contestId": 840,
        "members": [
            {
                "handle": "luogu_bot1"
            }
        ],
        "participantType": "PRACTICE",
        "ghost": false,
        "startTimeSeconds": 1503068700
    },
    "programmingLanguage": "GNU C++14",
    "verdict": "COMPILATION_ERROR",
    "testset": "TESTS",
    "passedTestCount": 0,
    "timeConsumedMillis": 0,
    "memoryConsumedBytes": 0,
    "source": "// LUOGU_RID: 125544150\n// Words are flowing out like endless rain into a paper cup,\r\n// They slither while they pass, they slip away across the universe\r\n// Pools of sorrow, waves of joy are drifting through my opened mind,\r\n// Possessing and caressing me.\r\n// Jai guru de va om\r\n// Nothing's gonna change my world,\r\n// Nothing's gonna change my world,\r\n//\r\n// Nothing's gonna change my world,\r\n// Nothing's gonna change my world,\r\n//\r\n// Images of broken light which dance before me like a million eyes,\r\n// That call me on and on across the universe,\r\n// Thoughts meander like a restless wind inside a letter box they\r\n// Tumble blindly as they make their way\r\n// Across the universe\r\n// Jai guru de va om\r\n// Nothing's gonna change my world,\r\n// Nothing's gonna change my world,\r\n//\r\n// Nothing's gonna change my world,\r\n// Nothing's gonna change my world,\r\n//\r\n// Sounds of laughter shades of earth are ringing\r\n// Through my open views inciting and inviting me\r\n// Limitless undying love which shines around me like a\r\n// Million suns, it calls me on and on\r\n// Across the universe\r\n// Jai guru de va om\r\n// Nothing's gonna change my world,\r\n// Nothing's gonna change my world,\r\n//\r\n// Nothing's gonna change my world,\r\n// Nothing's gonna change my world,\r\n//\r\n// Jai guru de va\r\n\r\n#pragma GCC optimize(3)\r\n#pragma GCC target(\"avx\")\r\n#pragma GCC target(\"avx,avx2\")\r\n#pragma GCC optimize(\"Ofast\")\r\n#pragma GCC optimize(\"inline\")\r\n#pragma GCC optimize(\"-fgcse\")\r\n#pragma GCC optimize(\"-fgcse-lm\")\r\n#pragma GCC optimize(\"-fipa-sra\")\r\n#pragma GCC optimize(\"-ftree-pre\")\r\n#pragma GCC optimize(\"-ftree-vrp\")\r\n#pragma GCC optimize(\"-fpeephole2\")\r\n#pragma GCC optimize(\"-ffast-math\")\r\n#pragma GCC optimize(\"-fsched-spec\")\r\n#pragma GCC optimize(\"unroll-loops\")\r\n#pragma GCC optimize(\"-falign-jumps\")\r\n#pragma GCC optimize(\"-falign-loops\")\r\n#pragma GCC optimize(\"-falign-labels\")\r\n#pragma GCC optimize(\"-fdevirtualize\")\r\n#pragma GCC optimize(\"-fcaller-saves\")\r\n#pragma GCC optimize(\"-fcrossjumping\")\r\n#pragma GCC optimize(\"-fthread-jumps\")\r\n#pragma GCC optimize(\"-funroll-loops\")\r\n#pragma GCC optimize(\"-fwhole-program\")\r\n#pragma GCC optimize(\"Ofast,fast-math\")\r\n#pragma GCC optimize(\"-freorder-blocks\")\r\n#pragma GCC optimize(\"-fschedule-insns\")\r\n#pragma GCC optimize(\"inline-functions\")\r\n#pragma GCC optimize(\"-ftree-tail-merge\")\r\n#pragma GCC optimize(\"-fschedule-insns2\")\r\n#pragma GCC optimize(\"-fstrict-aliasing\")\r\n#pragma GCC optimize(\"-fstrict-overflow\")\r\n#pragma GCC optimize(\"-falign-functions\")\r\n#pragma GCC optimize(\"-fcse-skip-blocks\")\r\n#pragma GCC optimize(\"-fcse-follow-jumps\")\r\n#pragma GCC optimize(\"-fsched-interblock\")\r\n#pragma GCC optimize(\"-fpartial-inlining\")\r\n#pragma GCC optimize(\"no-stack-protector\")\r\n#pragma GCC optimize(\"-freorder-functions\")\r\n#pragma GCC optimize(\"-findirect-inlining\")\r\n#pragma GCC optimize(\"-fhoist-adjacent-loads\")\r\n#pragma GCC optimize(\"-frerun-cse-after-loop\")\r\n#pragma GCC optimize(\"inline-small-functions\")\r\n#pragma GCC optimize(\"-finline-small-functions\")\r\n#pragma GCC optimize(\"-ftree-switch-conversion\")\r\n#pragma GCC optimize(\"-foptimize-sibling-calls\")\r\n#pragma GCC optimize(\"-fexpensive-optimizations\")\r\n#pragma GCC optimize(\"-funsafe-loop-optimizations\")\r\n#pragma GCC optimize(\"inline-functions-called-once\")\r\n#pragma GCC optimize(\"-fdelete-null-pointer-checks\")\r\n#pragma GCC optimize(2)\r\n#include<bits/stdc++.h>\r\n//#include<iostream>\r\n//#include<string>\r\n//#include<cmath>\r\n//#include<cstdio>\r\n//#include<cctype>\r\n//#include<cstring>\r\n//#include<iomanip>\r\n//#include<cstdlib>\r\n//#include<ctime>\r\n//#include<set>\r\n//#include<map>\r\n//#include<utility>\r\n//#include<queue>\r\n//#include<vector>\r\n//#include<stack>\r\n//#include<sstream>\r\n//#include<algorithm>\r\nusing namespace std;\r\n/*=====================================================================*/\r\n#define ll long long\r\n#define int ll\r\n#define pii pair<int,int>\r\n#define vi vector<int>\r\n#define vii vector<pii>\r\n#define pdd pair<double,double>\r\n#define ull unsigned long long\r\n#define pb push_back\r\n#define rep(i,n) for(int i=0;i<(int)(n);++i)\r\n#define all(s) (s).begin(),(s).end()\r\n#define repd(i,n) for(int i=(int)(n)-1;i>=0;--i)\r\n#define forr(i,a,b,c) for(int i=(int)(a);i<=(int)(b);i+=(int)(c))\r\n#define forn(i,p,n) for(int i=(int)(p);i<=(int)(n);++i)\r\n#define ford(i,p,n) for(int i=(int)(n);i>=(int)(p);--i)\r\n#define foreach(i,c) for(__typeof(c.begin())i=(c.begin());i!=(c).end();++i)\r\n#define INF 0x3f3f3f3f\r\n#define PI acos(-1)\r\n#define Endl(x) cout<<x<<endl;\r\n#define Blank(x) cout<<x<<\" \";\r\n#define modcg(x) if(x>=mod)x-=mod;\r\n#define modcl(x) if(x<0)x+=mod;\r\n#define lowbit(x) (x)&(-(x))\r\n/*=====================================================================*/\r\nstring int_to_string(ll n)\r\n{\r\n\tstring s=\"\";\r\n\twhile(n)\r\n\t{\r\n\t\tll now=n%10;\r\n\t\ts+=now+'0';\r\n\t\tn/=10;\r\n\t}\r\n\treverse(s.begin(),s.end());\r\n\treturn s;\r\n}\r\nll string_to_int(string s)\r\n{\r\n\tll n=0;\r\n\trep(i,s.size())\r\n\t{\r\n\t\tn*=10;\r\n\t\tn+=s[i]-'0';\r\n\t}\r\n\treturn n;\r\n}\r\nmt19937 GeN(chrono::system_clock::now().time_since_epoch().count());\r\nint Rand(int l,int r)\r\n{\r\n\tuniform_int_distribution<>RAND1(l,r);\r\n\treturn RAND1(GeN);\r\n}\r\nstruct Fastmod\r\n{\r\n\tint mod,b;\r\n\ttypedef __int128 lll;\r\n\tvoid init(int m)\r\n\t{\r\n\t\tmod=m;\r\n\t\tb=((lll)1<<64)/mod;\r\n\t}\r\n\tint operator()(ull a)\r\n\t{\r\n\t\tint q=((lll)a*b)>>64,r=a-q*mod;\r\n\t\tmodcg(r);\r\n\t\treturn r;\r\n\t}\r\n}MOD;\r\nint mul(int a,int b)\r\n{\r\n\treturn MOD(a*b);\r\n}\r\n/*======================================================================*/\r\nconst int dx[]={-1,0,1,0};\r\nconst int dy[]={0,-1,0,1};\r\nconst int month[2][12]={{31,28,31,30,31,30,31,31,30,31,30,31},{31,29,31,30,31,30,31,31,30,31,30,31}};\r\n//think twice,code once\r\n//think once,debug forever\r\nconst int MAXN=330,mod=1e9+7;\r\nstruct combination\r\n{\r\n\tint F[MAXN],invF[MAXN];\r\n\tint quickpower(int a,int b)\r\n\t{\r\n\t\tint res=1;\r\n\t\twhile(b)\r\n\t\t{\r\n\t\t\tif(b&1)\r\n\t\t\t{\r\n\t\t\t\tres=mul(a,res);\r\n\t\t\t}\r\n\t\t\ta=mul(a,a);\r\n\t\t\tb>>=1;\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n\tint inv(int x)\r\n\t{\r\n\t\treturn quickpower(x,mod-2);\r\n\t}\r\n\tvoid init(int n)\r\n\t{\r\n\t\tF[0]=1;\r\n\t\tforn(i,1,n)\r\n\t\t{\r\n\t\t\tF[i]=mul(F[i-1],i);\r\n\t\t}\r\n\t\tinvF[n]=inv(F[n]);\r\n\t\tford(i,0,n-1)\r\n\t\t{\r\n\t\t\tinvF[i]=mul(invF[i+1],i+1);\r\n\t\t}\r\n\t}\r\n\tint C(int n,int m)\r\n\t{\r\n\t\tif(n<0||m<0||n<m)\r\n\t\t{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn mul(F[n],mul(invF[m],invF[n-m]));\r\n\t}\r\n\tint A(int n,int m)\r\n\t{\r\n\t\tif(n<0||m<0||n<m)\r\n\t\t{\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\treturn mul(F[n],invF[n-m]);\r\n\t}\r\n}C;\r\nmap<vi,int> mp;\r\nint dp[MAXN];\r\nint n;\r\nvoid solve()\r\n{\r\n\tMOD.init(mod);\r\n\tcin>>n;\r\n\tC.init(n);\r\n\tforn(i,1,n)\r\n\t{\r\n\t\tint x;\r\n\t\tcin>>x;\r\n\t\tvi v;\r\n\t\tfor(int d=2;d*d<=x;d++)\r\n\t\t{\r\n\t\t\tint cnt=0;\r\n\t\t\twhile(x%d==0)\r\n\t\t\t{\r\n\t\t\t\tx/=d;\r\n\t\t\t\tcnt++;\r\n\t\t\t}\r\n\t\t\tif(cnt&1)\r\n\t\t\t{\r\n\t\t\t\tv.pb(d);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(x!=1)\r\n\t\t{\r\n\t\t\tv.pb(x);\r\n\t\t}\r\n\t\tmp[v]++;\r\n\t}\r\n\tdp[0]=1;\r\n\tforeach(it,mp)\r\n\t{\r\n\t\tint cnt=it->second;\r\n\t\tford(i,0,n)\r\n\t\t{\r\n\t\t\tint res=0;\r\n\t\t\tforn(j,1,min(cnt,i))\r\n\t\t\t{\r\n\t\t\t\tres+=mul(dp[i-j],mul(C.F[cnt],mul(C.C(cnt-1,j-1),C.invF[j])));modcg(res);\r\n\t\t\t}\r\n\t\t\tdp[i]=res;\r\n\t\t}\r\n\t}\r\n\tint ans=0;\r\n\tforn(i,0,n)\r\n\t{\r\n\t\tif((n-i)&1)\r\n\t\t{\r\n\t\t\tans-=mul(C.F[i],dp[i]);modcl(ans);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tans+=mul(C.F[i],dp[i]);modcg(ans);\r\n\t\t}\r\n\t}\r\n\tcout<<ans<<endl;\r\n}\r\n/*======================================================================*/\r\nsigned main()\r\n{\r\n    cin.tie(0);\r\n    cout.tie(0);\r\n\tstd::ios::sync_with_stdio(false);\r\n//#define Hank2007\r\n#ifdef Hank2007\r\n\tfreopen(\"permutation.in\",\"r\",stdin);\r\n\tfreopen(\"permutation.out\",\"w\",stdout);\r\n#endif\r\n  \t/*====================================================================*/\r\n  \tint TEST_CASE=1;\r\n//\tcin>>TEST_CASE;\r\n  \twhile(TEST_CASE--)\r\n  \t{\r\n  \t\tsolve();\r\n  \t}\r\n  \treturn 0;\r\n}\r\n/*\r\n//\r\nstart coding at\r\nfinish debugging at\r\n*/"
}