{
    "id": 68084580,
    "contestId": 89,
    "creationTimeSeconds": 1577979779,
    "relativeTimeSeconds": 2147483647,
    "problem": {
        "contestId": 89,
        "index": "B",
        "name": "Widget Library",
        "type": "PROGRAMMING",
        "points": 1000.0,
        "rating": 2300,
        "tags": [
            "dp",
            "expression parsing",
            "graphs",
            "implementation"
        ]
    },
    "author": {
        "contestId": 89,
        "members": [
            {
                "handle": "Macaco39"
            }
        ],
        "participantType": "PRACTICE",
        "ghost": false,
        "startTimeSeconds": 1308236400
    },
    "programmingLanguage": "Java 11",
    "verdict": "WRONG_ANSWER",
    "testset": "TESTS",
    "passedTestCount": 6,
    "timeConsumedMillis": 466,
    "memoryConsumedBytes": 102400,
    "source": "import java.util.Scanner;\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Collections;\r\nimport java.util.regex.*;\r\n\r\npublic class Main {\r\n  public abstract static class Widget implements Comparable<Widget>{\r\n    String alto, ancho, tipo, nombre, border, spacing;\r\n    List<Widget> paquetes;\r\n    public int compareTo(Widget other){\r\n      return this.nombre.compareTo(other.nombre);\r\n    };\r\n    public String obtenerNombre(){\r\n      return this.nombre;\r\n    }\r\n    public String obtenerAncho(){\r\n      return this.ancho;\r\n    }\r\n    public String obtenerAlto(){\r\n      return this.alto;\r\n    }\r\n    public void Pack(Widget widgetpackear){\r\n      this.paquetes.add(widgetpackear);\r\n    }\r\n    public void set_border(String nuevoborde){\r\n      this.border= nuevoborde;\r\n    }\r\n    public void set_spacing(String nuevospacing){\r\n      this.spacing= nuevospacing;\r\n    }\r\n\r\n    public void cambiarancho(String nuevoancho){\r\n      this.ancho= nuevoancho;\r\n    }\r\n\r\n    public void cambiaralto(String nuevoalto){\r\n      this.alto= nuevoalto;\r\n    }\r\n  }\r\n\r\n  public static class Simple extends Widget{\r\n    Simple(String ancho, String alto, String tipo, String nombre){\r\n      this.alto= alto;\r\n      this.ancho= ancho;\r\n      this.tipo= tipo;\r\n      this.nombre= nombre;\r\n    }\r\n  }\r\n\r\n  public static class HBox extends Widget{\r\n    HBox(String tipo, String nombre){\r\n      this.alto= \"0\";\r\n      this.ancho= \"0\";\r\n      this.border= \"0\";\r\n      this.spacing= \"0\";\r\n      this.tipo= tipo;\r\n      this.nombre= nombre;\r\n      this.paquetes= new ArrayList<>();\r\n    }\r\n  }\r\n  \r\n  public static int integerdelancho(Widget widgetentregado){\r\n      String anchito= widgetentregado.ancho;\r\n      return Integer.parseInt(anchito);\r\n    }\r\n\r\n  public static int integerdelalto(Widget widgetentregado){\r\n    String altito = widgetentregado.alto;\r\n    return Integer.parseInt(altito);\r\n  }\r\n  \r\n  public static void actualizarancho(Widget widgetactualizar){\r\n      int anchototal=0;\r\n      if(widgetactualizar.tipo == \"hbox\"){\r\n        for(int x=0; x< widgetactualizar.paquetes.size(); x++){\r\n          anchototal+= integerdelancho(widgetactualizar.paquetes.get(x));\r\n        }\r\n        if(widgetactualizar.paquetes.size() > 0){\r\n          anchototal+= 2*Integer.parseInt(widgetactualizar.border);\r\n        }\r\n        if(widgetactualizar.paquetes.size()> 1){\r\n          anchototal+= Integer.parseInt(widgetactualizar.spacing)*(widgetactualizar.paquetes.size()-1);\r\n        }\r\n        widgetactualizar.cambiarancho(String.valueOf(anchototal));\r\n      }\r\n      else if(widgetactualizar.tipo == \"vbox\"){\r\n        int mayor = 0;\r\n        for(int x2= 0; x2 < widgetactualizar.paquetes.size(); x2++){\r\n          if(integerdelancho(widgetactualizar.paquetes.get(x2)) > mayor){\r\n            mayor= integerdelancho(widgetactualizar.paquetes.get(x2));\r\n          }\r\n        }\r\n        if(widgetactualizar.paquetes.size() > 0){\r\n          mayor+= 2*Integer.parseInt(widgetactualizar.border);\r\n        }\r\n        widgetactualizar.cambiarancho(String.valueOf(mayor));\r\n      }\r\n    }\r\n  \r\n  public static void actualizaralto(Widget widgetactualizar){\r\n    int largototal= 0;\r\n    if(widgetactualizar.tipo == \"hbox\"){\r\n      int mayor= 0;\r\n      for(int x= 0; x<widgetactualizar.paquetes.size();x++){\r\n        if(integerdelalto(widgetactualizar.paquetes.get(x)) > mayor){\r\n          mayor= integerdelalto(widgetactualizar.paquetes.get(x));\r\n        }\r\n      }\r\n      if(widgetactualizar.paquetes.size() >0){\r\n        mayor+= 2*Integer.parseInt(widgetactualizar.border);\r\n      }\r\n      widgetactualizar.cambiaralto(String.valueOf(mayor));\r\n    }\r\n    else if(widgetactualizar.tipo == \"vbox\"){\r\n      for(int x2=0; x2< widgetactualizar.paquetes.size(); x2++){\r\n          largototal+= integerdelalto(widgetactualizar.paquetes.get(x2));\r\n        }\r\n        if(widgetactualizar.paquetes.size() > 0){\r\n          largototal+= 2*Integer.parseInt(widgetactualizar.border);\r\n        }\r\n        if(widgetactualizar.paquetes.size()> 1){\r\n          largototal+= Integer.parseInt(widgetactualizar.spacing)*(widgetactualizar.paquetes.size()-1);\r\n        }\r\n        widgetactualizar.cambiaralto(String.valueOf(largototal));\r\n    }\r\n  }\r\n\r\n  public static class VBox extends Widget{\r\n    VBox(String tipo, String nombre){\r\n      this.alto= \"0\";\r\n      this.ancho= \"0\";\r\n      this.border= \"0\";\r\n      this.spacing= \"0\";\r\n      this.tipo= tipo;\r\n      this.nombre= nombre;\r\n      this.paquetes= new ArrayList<>();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  public static void main(String[] args) {\r\n    Scanner entrada = new Scanner(System.in);\r\n    int n;\r\n    n= Integer.parseInt(entrada.nextLine());\r\n    List<Widget> listadewidget = new ArrayList<>();\r\n    for(int a=0; a<n; a++){\r\n      String[] instruccion = entrada.nextLine().trim().split(\"[^\\\\w]\");\r\n      if(Pattern.compile(\"Widget\").matcher(instruccion[0]).matches()){\r\n        listadewidget.add(new Simple(instruccion[2],instruccion[3], \"simple\", instruccion[1]));\r\n        }\r\n\r\n      else if(Pattern.compile(\"VBox\").matcher(instruccion[0]).matches()){\r\n        listadewidget.add(new VBox(\"vbox\", instruccion[1]));\r\n      }\r\n\r\n      else if(Pattern.compile(\"HBox\").matcher(instruccion[0]).matches()){\r\n        listadewidget.add(new HBox(\"hbox\", instruccion[1]));\r\n      }\r\n\r\n      else if(Pattern.compile(\"pack\").matcher(instruccion[1]).matches()){\r\n        for(int it1=0; it1 < listadewidget.size(); it1++){\r\n          if(Pattern.compile(instruccion[0]).matcher(listadewidget.get(it1).obtenerNombre()).matches()){\r\n            for(int it2= 0; it2 < listadewidget.size(); it2++){\r\n              if(Pattern.compile(instruccion[2]).matcher(listadewidget.get(it2).obtenerNombre()).matches()){\r\n                listadewidget.get(it1).Pack(listadewidget.get(it2));\r\n                actualizarancho(listadewidget.get(it1));\r\n                actualizaralto(listadewidget.get(it1));\r\n                break;\r\n              }\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n\r\n      else if(Pattern.compile(\"set_border\").matcher(instruccion[1]).matches()){\r\n        for(int it3= 0; it3 <listadewidget.size(); it3++){\r\n          if(Pattern.compile(instruccion[0]).matcher(listadewidget.get(it3).obtenerNombre()).matches()){\r\n            listadewidget.get(it3).set_border(instruccion[2]);\r\n            actualizarancho(listadewidget.get(it3));\r\n            actualizaralto(listadewidget.get(it3));\r\n          }\r\n        }\r\n      }\r\n\r\n      else if(Pattern.compile(\"set_spacing\").matcher(instruccion[1]).matches()){\r\n        for(int it4= 0; it4 < listadewidget.size(); it4++){\r\n          if(Pattern.compile(instruccion[0]).matcher(listadewidget.get(it4).obtenerNombre()).matches()){\r\n            listadewidget.get(it4).set_spacing(instruccion[2]);\r\n            actualizarancho(listadewidget.get(it4));\r\n            actualizaralto(listadewidget.get(it4));\r\n          }\r\n        }\r\n      }\r\n      else{\r\n        System.out.println(\"ERROR\");\r\n        break;\r\n      }\r\n    }\r\n    Collections.sort(listadewidget);\r\n    for(int it5= 0; it5 < listadewidget.size(); it5++){\r\n    if((listadewidget.get(it5).tipo == \"hbox\") || ( listadewidget.get(it5).tipo == \"vbox\")){\r\n        actualizarancho(listadewidget.get(it5));\r\n        actualizaralto(listadewidget.get(it5));\r\n      }\r\n      System.out.println(listadewidget.get(it5).obtenerNombre() + \" \" + listadewidget.get(it5).obtenerAncho() + \" \" + listadewidget.get(it5).obtenerAlto());\r\n    }\r\n    entrada.close();\r\n  }\r\n}"
}