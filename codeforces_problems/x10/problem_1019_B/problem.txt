{
    "contestId": 1019,
    "index": "B",
    "name": "The hat",
    "type": "PROGRAMMING",
    "points": 1000.0,
    "rating": 2000,
    "tags": [
        "binary search",
        "interactive"
    ],
    "desc": {
        "title": "B. The hat",
        "statement": "<p><span class=\"tex-font-style-bf\">This is an interactive problem.</span></p><p>Imur Ishakov decided to organize a club for people who love to play the famous game \u00abThe hat\u00bb. The club was visited by <span class=\"tex-span\"><i>n</i></span> students, where <span class=\"tex-span\"><i>n</i></span> is even. Imur arranged them all in a circle and held a draw to break the students in pairs, but something went wrong. The participants are numbered so that participant <span class=\"tex-span\"><i>i</i></span> and participant <span class=\"tex-span\"><i>i</i>\u2009+\u20091</span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009\u2264\u2009<i>n</i>\u2009-\u20091</span>) are adjacent, as well as participant <span class=\"tex-span\"><i>n</i></span> and participant <span class=\"tex-span\">1</span>. Each student was given a piece of paper with a number in such a way, that for every two adjacent students, these numbers differ exactly by one. The plan was to form students with the same numbers in a pair, but it turned out that not all numbers appeared exactly twice.</p><p>As you know, the most convenient is to explain the words to the partner when he is sitting exactly across you. Students with numbers <span class=\"tex-span\"><i>i</i></span> and <img align=\"middle\" class=\"tex-formula\" src=\"https://espresso.codeforces.com/bb70c692e73bcdcab618b5caa2269589ff959700.png\" style=\"max-width: 100.0%;max-height: 100.0%;\"/> sit across each other. Imur is wondering if there are two people sitting across each other with the same numbers given. Help him to find such pair of people if it exists.</p><p>You can ask questions of form \u00abwhich number was received by student <span class=\"tex-span\"><i>i</i></span>?\u00bb, and the goal is to determine whether the desired pair exists in no more than <span class=\"tex-span\">60</span> questions.</p>",
        "inputSpecification": "<p>At the beginning the even integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">2\u2009\u2264\u2009<i>n</i>\u2009\u2264\u2009100\u2009000</span>) is given\u00a0\u2014 the total number of students.</p><p>You are allowed to ask no more than <span class=\"tex-span\">60</span> questions.</p>",
        "outputSpecification": "<p>To ask the question about the student <span class=\"tex-span\"><i>i</i></span> (<span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009\u2264\u2009<i>n</i></span>), you should print \u00ab<span class=\"tex-font-style-tt\">? <span class=\"tex-span\"><i>i</i></span></span>\u00bb. Then from standard output you can read the number <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> received by student <span class=\"tex-span\"><i>i</i></span> (<span class=\"tex-span\">\u2009-\u200910<sup class=\"upper-index\">9</sup>\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u200910<sup class=\"upper-index\">9</sup></span>).</p><p>When you find the desired pair, you should print \u00ab<span class=\"tex-font-style-tt\">! <span class=\"tex-span\"><i>i</i></span></span>\u00bb, where <span class=\"tex-span\"><i>i</i></span> is any student who belongs to the pair (<span class=\"tex-span\">1\u2009\u2264\u2009<i>i</i>\u2009\u2264\u2009<i>n</i></span>). If you determined that such pair doesn't exist, you should output \u00ab<span class=\"tex-font-style-tt\">! -1</span>\u00bb. In both cases you should immediately terminate the program.</p><p>The query that contains your answer is not counted towards the limit of <span class=\"tex-span\">60</span> queries.</p><p>Please make sure to flush the standard output after each command. For example, in C++ use function <span class=\"tex-font-style-tt\">fflush(stdout)</span>, in Java call <span class=\"tex-font-style-tt\">System.out.flush()</span>, in Pascal use <span class=\"tex-font-style-tt\">flush(output)</span> and <span class=\"tex-font-style-tt\">stdout.flush()</span> for Python language.</p><p><span class=\"tex-font-style-bf\">Hacking</span></p><p>Use the following format for hacking:</p><p>In the first line, print one even integer <span class=\"tex-span\"><i>n</i></span> (<span class=\"tex-span\">2\u2009\u2264\u2009<i>n</i>\u2009\u2264\u2009100\u2009000</span>)\u00a0\u2014 the total number of students.</p><p>In the second line print <span class=\"tex-span\"><i>n</i></span> integers <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> (<span class=\"tex-span\">\u2009-\u200910<sup class=\"upper-index\">9</sup>\u2009\u2264\u2009<i>a</i><sub class=\"lower-index\"><i>i</i></sub>\u2009\u2264\u200910<sup class=\"upper-index\">9</sup></span>) separated by spaces, where <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span> is the number to give to <span class=\"tex-span\"><i>i</i></span>-th student. Any two adjacent elements, including <span class=\"tex-span\"><i>n</i></span> and <span class=\"tex-span\">1</span>, must differ by <span class=\"tex-span\">1</span> or <span class=\"tex-span\">\u2009-\u20091</span>.</p><p>The hacked solution will not have direct access to the sequence <span class=\"tex-span\"><i>a</i><sub class=\"lower-index\"><i>i</i></sub></span>.</p>",
        "samples": [
            {
                "input": "8<br/><span class=\"tex-span\"></span><br/>2<br/><span class=\"tex-span\"></span><br/>2<br/>",
                "output": "<span class=\"tex-span\"></span><br/>? 4<br/><span class=\"tex-span\"></span><br/>? 8<br/><span class=\"tex-span\"></span><br/>! 4<br/>"
            },
            {
                "input": "6<br/><span class=\"tex-span\"></span><br/>1<br/><span class=\"tex-span\"></span><br/>2<br/><span class=\"tex-span\"></span><br/>3 <br/><span class=\"tex-span\"></span><br/>2<br/><span class=\"tex-span\"></span><br/>1<br/><span class=\"tex-span\"></span><br/>0",
                "output": "<span class=\"tex-span\"></span><br/>? 1<br/><span class=\"tex-span\"></span><br/>? 2<br/><span class=\"tex-span\"></span><br/>? 3<br/><span class=\"tex-span\"></span><br/>? 4<br/><span class=\"tex-span\"></span><br/>? 5<br/><span class=\"tex-span\"></span><br/>? 6<br/><span class=\"tex-span\"></span><br/>! -1"
            }
        ],
        "note": "<p>Input-output in statements illustrates example interaction.</p><p>In the first sample the selected sequence is <span class=\"tex-span\">1,\u20092,\u20091,\u20092,\u20093,\u20094,\u20093,\u20092</span></p><p>In the second sample the selection sequence is <span class=\"tex-span\">1,\u20092,\u20093,\u20092,\u20091,\u20090</span>.</p>"
    },
    "suggested_categories": [
        "interactive problem",
        "mathematics",
        "circular arrangement",
        "pairing",
        "number sequences",
        "logic",
        "game theory",
        "problem solving",
        "algorithmic puzzles",
        "combinatorics",
        "computer science theory",
        "number theory",
        "input-output handling",
        "code optimization",
        "user interaction",
        "constraint satisfaction",
        "optimal strategy",
        "search algorithms",
        "query based problems",
        "adversarial problems"
    ]
}